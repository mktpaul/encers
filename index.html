<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beautyencers - Layout Final Corrigido v2</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Estilos Globais e VariÃ¡veis CSS (Mantidos) */
        :root {
            --primary-color: #e83e8c; --primary-color-dark: #c2185b; --secondary-color: #f8f9fa;
            --text-color: #343a40; --text-color-light: #6c757d; --border-color: #dee2e6;
            --white: #fff; --light-gray: #f1f3f5; --footer-bg: #212529;
            --footer-text: #adb5bd; --footer-link-hover: var(--white);
            --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.07); --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.08);
            --border-radius: 8px; --transition-speed: 0.3s; --transition-smooth: 0.5s;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body { font-family: 'Poppins', sans-serif; line-height: 1.6; color: var(--text-color); background-color: var(--white); -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; display: flex; flex-direction: column; min-height: 100vh; }
        .site-content { flex: 1; }
        .container { max-width: 1240px; margin: 0 auto; padding: 0 20px; }
        a { text-decoration: none; color: var(--primary-color); transition: color var(--transition-speed) ease; }
        a:hover { color: var(--primary-color-dark); }
        ul { list-style: none; }
        img, svg { max-width: 100%; display: block; }
        button { cursor: pointer; border: none; background: none; font-family: inherit; }
        .icon { display: inline-block; width: 1.3em; height: 1.3em; vertical-align: middle; fill: currentColor; }
        .icon-sm { width: 1em; height: 1em; } .icon-lg { width: 1.8em; height: 1.8em; }

        /* --- Header (Mantido) --- */
        .main-header { padding: 15px 0; border-bottom: 1px solid var(--border-color); background-color: var(--white); position: sticky; top: 0; z-index: 999; box-shadow: var(--shadow-sm); }
        .header-container { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 15px; }
        .logo { font-size: 2rem; font-weight: 700; color: var(--primary-color); letter-spacing: -1px; flex-shrink: 0; font-family: 'Times New Roman', Times, serif; }
        .search-form { display: flex; align-items: center; border: 1px solid var(--border-color); border-radius: var(--border-radius); padding: 8px 12px; flex-grow: 1; max-width: 450px; background-color: var(--light-gray); transition: box-shadow var(--transition-speed) ease, border-color var(--transition-speed) ease; }
        .search-form:focus-within { box-shadow: 0 0 0 2px rgba(232, 62, 140, 0.3); border-color: var(--primary-color); background-color: var(--white); }
        .search-form input[type="text"] { border: none; outline: none; flex-grow: 1; padding: 5px 0; font-size: 0.95rem; background: transparent; }
        .search-form input::placeholder { color: var(--text-color-light); }
        .search-form button { margin-left: 8px; color: var(--text-color-light); padding: 0; line-height: 0; }
        .search-form button .icon { width: 1.2em; height: 1.2em; }
        .user-actions { display: flex; align-items: center; gap: 25px; flex-shrink: 0; }
        .user-actions > div, .user-actions > button { display: flex; align-items: center; gap: 8px; font-size: 0.85rem; cursor: pointer; color: var(--text-color); }
        .user-actions .icon { color: var(--primary-color); width: 1.5em; height: 1.5em; flex-shrink: 0; }
        .user-actions .action-text span { display: block; font-size: 0.75rem; color: var(--text-color-light); line-height: 1.2; }
        .user-actions .action-text strong { font-weight: 500; color: var(--text-color); }
        .cart-button { position: relative; }
        .cart-item-count { position: absolute; top: -5px; right: -8px; background-color: var(--primary-color-dark); color: var(--white); border-radius: 50%; width: 18px; height: 18px; font-size: 0.7rem; font-weight: 600; display: flex; justify-content: center; align-items: center; line-height: 1; transform: scale(0); transition: transform var(--transition-speed) cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .cart-item-count.visible { transform: scale(1); }

        /* --- Navigation (Mantido) --- */
        .main-nav { background-color: var(--secondary-color); padding: 12px 0; border-bottom: 1px solid var(--border-color); }
        .main-nav ul { display: flex; justify-content: center; align-items: center; flex-wrap: wrap; gap: 30px; }
        .main-nav a { font-weight: 500; color: var(--text-color); padding: 8px 0; font-size: 0.95rem; position: relative; transition: color var(--transition-speed) ease; }
        .main-nav a::after { content: ''; position: absolute; bottom: 0; left: 0; width: 100%; height: 2px; background-color: var(--primary-color); transform: scaleX(0); transform-origin: bottom right; transition: transform 0.3s ease-out; }
        .main-nav a:hover::after, .main-nav a.active::after { transform: scaleX(1); transform-origin: bottom left; }
        .main-nav a:hover { color: var(--primary-color); }

        /* --- Main Content Wrapper --- */
        main.site-content { padding-top: 30px; padding-bottom: 60px; background-color: #fdfdff; }

        /* --- Banner Slider (Mantido Looping JS) --- */
        .banner-slider { position: relative; width: 100%; max-width: 1240px; margin: 0 auto 40px auto; overflow: hidden; border-radius: var(--border-radius); box-shadow: var(--shadow-md); }
        .banner-slides { display: flex; /* Transition managed by JS */ min-height: 300px; }
        .banner-slide { min-width: 100%; flex-shrink: 0; display: flex; justify-content: center; align-items: center; font-size: 2.5rem; font-weight: 600; color: var(--white); text-align: center; padding: 20px; background: linear-gradient(45deg, var(--primary-color), var(--primary-color-dark)); }
        .banner-slide:nth-child(1) { background: linear-gradient(45deg, #e83e8c, #c2185b); }
        .banner-slide:nth-child(2) { background: linear-gradient(45deg, #fd7e14, #ffc107); }
        .banner-slide:nth-child(3) { background: linear-gradient(45deg, #20c997, #17a2b8); }
        .banner-arrow { position: absolute; top: 50%; transform: translateY(-50%); background-color: rgba(0, 0, 0, 0.35); color: white; border: none; border-radius: 50%; width: 45px; height: 45px; font-size: 1.2rem; cursor: pointer; z-index: 10; display: flex; justify-content: center; align-items: center; transition: background-color var(--transition-speed) ease; }
        .banner-arrow .icon { width: 1.5em; height: 1.5em; }
        .banner-arrow:hover { background-color: rgba(0, 0, 0, 0.6); }
        .banner-arrow.prev { left: 15px; } .banner-arrow.next { right: 15px; }

        /* --- Placeholder Section (Mantido) --- */
        .placeholder-section { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 20px; margin: 0 auto 40px auto; max-width: 1240px; padding: 0 20px; }
        .placeholder-box { height: 70px; background-color: var(--light-gray); border: 1px solid var(--border-color); border-radius: var(--border-radius); display: flex; justify-content: center; align-items: center; color: var(--text-color-light); font-size: 0.9rem; text-align: center; padding: 5px; }

        /* --- Product Carousel Section (Mantido CSS) --- */
        .product-carousel { max-width: 1240px; margin: 60px auto; padding: 0; }
        .product-carousel h2 { text-align: center; margin-bottom: 35px; font-weight: 600; font-size: 1.8rem; color: var(--text-color); padding: 0 20px; }
        .product-slider-container { position: relative; width: 100%; padding: 0 30px; margin: 0 auto; }
        .product-slider-wrapper { width: 100%; overflow: hidden; position: relative; cursor: grab; }
        .product-slider { display: flex; padding: 10px 0 20px 0; position: relative; left: 0; /* Transition managed by JS */ -webkit-overflow-scrolling: touch; }
        .product-slider.grabbing { cursor: grabbing; }
        .product-slider { scrollbar-width: none; -ms-overflow-style: none; }
        .product-slider::-webkit-scrollbar { display: none; }
        .product-card { border: 1px solid var(--border-color); border-radius: var(--border-radius); padding: 20px; text-align: center; background-color: var(--white); flex: 0 0 auto; width: calc((100% / 4.5) - 16px); margin: 0 8px; position: relative; transition: transform 0.2s ease, box-shadow 0.2s ease; box-shadow: var(--shadow-sm); user-select: none; }
        .product-card * { user-select: none; } .product-card a, .product-card button { user-select: auto; }
        .product-card:hover { transform: translateY(-5px); box-shadow: var(--shadow-md); }
        .product-card .product-image-container { margin-bottom: 15px; position: relative; background-color: var(--light-gray); border-radius: calc(var(--border-radius) / 2); overflow: hidden; }
        .product-card img, .product-card svg.placeholder-svg { width: 100%; height: 180px; object-fit: contain; display: block; }
        .placeholder-svg path { fill: #adb5bd; }
        .product-card .icons { position: absolute; top: 10px; right: 10px; display: flex; flex-direction: column; gap: 10px; opacity: 0; transition: opacity var(--transition-speed) ease; }
        .product-card:hover .icons { opacity: 1; }
        .product-card .icon-button { background-color: rgba(255, 255, 255, 0.85); border-radius: 50%; padding: 6px; display: flex; justify-content: center; align-items: center; color: var(--text-color-light); box-shadow: var(--shadow-sm); transition: background-color 0.2s, color 0.2s; }
        .product-card .icon-button .icon { width: 1.1em; height: 1.1em; }
        .product-card .icon-button:hover { background-color: var(--primary-color); color: var(--white); }
        .product-card .rating { color: #ffc107; margin-bottom: 8px; font-size: 0.8rem; }
        .product-card h3 { font-size: 0.9rem; font-weight: 600; margin-bottom: 5px; color: var(--text-color); text-transform: uppercase; display: -webkit-box; -webkit-line-clamp: 1; -webkit-box-orient: vertical; overflow: hidden; text-overflow: ellipsis; }
        .product-card .product-subname { font-size: 0.85rem; color: var(--text-color-light); margin-bottom: 12px; min-height: 34px; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; text-overflow: ellipsis; }
        .product-card .price { margin-bottom: 8px; }
        .product-card .original-price { font-size: 0.8rem; color: var(--text-color-light); text-decoration: line-through; margin-right: 8px; }
        .product-card .current-price { font-size: 1.2rem; font-weight: 700; color: var(--primary-color); margin-right: 5px; }
        .product-card .pix-label { font-size: 0.75rem; color: var(--text-color-light); font-weight: 500; }
        .product-card .installments { font-size: 0.8rem; color: var(--text-color-light); margin-bottom: 15px; }
        .product-card .add-to-cart-btn { display: inline-block; background-color: var(--primary-color); color: var(--white); padding: 8px 15px; border-radius: var(--border-radius); font-size: 0.85rem; font-weight: 600; text-transform: uppercase; transition: background-color 0.2s ease, transform 0.1s ease; margin-top: auto; }
        .product-card .add-to-cart-btn:hover { background-color: var(--primary-color-dark); transform: scale(1.03); }
        .product-arrow { position: absolute; top: 45%; transform: translateY(-50%); background-color: var(--white); border: 1px solid var(--border-color); border-radius: 50%; color: var(--text-color); width: 40px; height: 40px; font-size: 1.2rem; cursor: pointer; z-index: 10; display: flex; justify-content: center; align-items: center; box-shadow: var(--shadow-sm); transition: background-color 0.2s, box-shadow 0.2s, color 0.2s; }
        .product-arrow .icon { width: 1.4em; height: 1.4em; }
        .product-arrow:hover { background-color: var(--light-gray); box-shadow: var(--shadow-md); color: var(--primary-color); }
        .product-arrow.prev { left: 0px; } .product-arrow.next { right: 0px; }

        /* --- Side Cart / Overlay / Footer / Responsive (Mantidos) --- */
        .side-cart { position: fixed; top: 0; right: -100%; width: 380px; max-width: 95%; height: 100%; background-color: var(--white); box-shadow: -4px 0 15px rgba(0, 0, 0, 0.15); z-index: 1001; transition: right 0.4s cubic-bezier(0.25, 0.8, 0.25, 1); display: flex; flex-direction: column; }
        .side-cart.open { right: 0; }
        .cart-header { padding: 20px; border-bottom: 1px solid var(--border-color); display: flex; justify-content: space-between; align-items: center; background-color: var(--secondary-color); }
        .cart-header h3 { margin: 0; font-size: 1.3rem; font-weight: 600; color: var(--text-color); display: flex; align-items: center; gap: 10px; }
        .cart-header .icon { color: var(--primary-color); }
        .close-cart-btn { font-size: 1.5rem; color: var(--text-color-light); padding: 5px; line-height: 0; }
        .close-cart-btn:hover { color: var(--primary-color); }
        .close-cart-btn .icon { width: 1.2em; height: 1.2em; }
        .cart-content { flex-grow: 1; padding: 25px; overflow-y: auto; color: var(--text-color-light); }
        #cart-items-list { }
        .cart-item { display: flex; align-items: center; gap: 15px; padding: 15px 0; border-bottom: 1px solid var(--border-color); text-align: left; }
        .cart-item img { width: 60px; height: 60px; object-fit: cover; border-radius: 4px; border: 1px solid var(--border-color); }
        .cart-item-details { flex-grow: 1; }
        .cart-item-details h4 { font-size: 0.9rem; margin-bottom: 5px; font-weight: 500; color: var(--text-color); display: -webkit-box; -webkit-line-clamp: 1; -webkit-box-orient: vertical; overflow: hidden; text-overflow: ellipsis; }
        .cart-item-details .price { font-size: 0.9rem; font-weight: 600; color: var(--primary-color); }
        #empty-cart-message { margin-top: 40px; font-size: 1rem; text-align: center; }
        #empty-cart-message.hidden { display: none; }
        .cart-footer { padding: 25px; border-top: 1px solid var(--border-color); background-color: var(--secondary-color); }
        .cart-footer .subtotal { display: flex; justify-content: space-between; margin-bottom: 20px; font-weight: 600; font-size: 1.1rem; color: var(--text-color); }
        #cart-subtotal { }
        .cart-footer-buttons { margin-top: 15px; display: flex; flex-direction: column; gap: 10px; }
        .cart-footer-buttons .btn { display: block; width: 100%; padding: 12px; border-radius: var(--border-radius); font-size: 0.95rem; font-weight: 600; text-align: center; transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease, transform 0.1s ease; }
        .cart-footer-buttons .btn:hover { transform: scale(1.02); }
        #checkout-btn-footer { background-color: var(--primary-color); color: white; border: 1px solid var(--primary-color); }
        #checkout-btn-footer:hover { background-color: var(--primary-color-dark); border-color: var(--primary-color-dark); }
        #continue-shopping-btn { background-color: transparent; color: var(--primary-color); border: 1px solid var(--primary-color); }
        #continue-shopping-btn:hover { background-color: var(--light-gray); }
        .overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(255, 255, 255, 0.8); z-index: 1000; opacity: 0; visibility: hidden; transition: opacity 0.4s ease-in-out, visibility 0s 0.4s linear; }
        .overlay.active { opacity: 1; visibility: visible; transition: opacity 0.4s ease-in-out; }
        .main-footer { background-color: var(--footer-bg); color: var(--footer-text); padding: 50px 0 20px 0; margin-top: auto; }
        .footer-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 30px; margin-bottom: 40px; }
        .footer-column h4 { color: var(--white); font-size: 1.1rem; margin-bottom: 15px; font-weight: 600; }
        .footer-column ul li { margin-bottom: 10px; }
        .footer-column ul li a { color: var(--footer-text); font-size: 0.9rem; transition: color var(--transition-speed) ease, padding-left var(--transition-speed) ease; }
        .footer-column ul li a:hover { color: var(--footer-link-hover); padding-left: 5px; }
        .footer-socials { display: flex; gap: 15px; margin-top: 10px; }
        .footer-socials a { color: var(--footer-text); font-size: 1.4rem; }
        .footer-socials a:hover { color: var(--primary-color); }
        .footer-newsletter p { font-size: 0.9rem; margin-bottom: 15px; }
        .newsletter-form { display: flex; margin-top: 10px; }
        .newsletter-form input[type="email"] { flex-grow: 1; padding: 10px; border: 1px solid #495057; border-radius: var(--border-radius) 0 0 var(--border-radius); background-color: #495057; color: var(--white); font-size: 0.9rem; outline: none; }
        .newsletter-form input::placeholder { color: #adb5bd; }
        .newsletter-form button { padding: 10px 15px; background-color: var(--primary-color); color: var(--white); border: none; border-radius: 0 var(--border-radius) var(--border-radius) 0; font-size: 0.9rem; font-weight: 600; transition: background-color var(--transition-speed) ease; }
        .newsletter-form button:hover { background-color: var(--primary-color-dark); }
        .footer-bottom { border-top: 1px solid #495057; padding-top: 20px; text-align: center; font-size: 0.85rem; }
        .footer-payments img { height: 25px; margin: 0 5px; display: inline-block; vertical-align: middle; opacity: 0.8; }
        .footer-bottom p { margin-top: 15px; }
        @media (max-width: 1024px) { .product-card { width: calc((100% / 3.5) - 16px); } .user-actions { gap: 15px; } .main-nav ul { gap: 20px; } .product-slider-container { padding: 0 25px; } .product-arrow.prev { left: -5px; } .product-arrow.next { right: -5px; } .footer-container { grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); } }
        @media (max-width: 768px) { .container { padding: 0 15px; } .logo { font-size: 1.7rem; } .header-container { gap: 10px; } .search-form { order: 3; width: 100%; max-width: none; margin-top: 10px; } .user-actions { order: 2; gap: 10px; margin-left: auto; } .user-actions .action-text { display: none; } .user-actions .icon { width: 1.8em; height: 1.8em; } .main-nav ul { justify-content: flex-start; gap: 15px; overflow-x: auto; padding: 0 15px; scrollbar-width: none; -ms-overflow-style: none; } .main-nav ul::-webkit-scrollbar { display: none; } .product-card { width: calc((100% / 2.2) - 16px); } .product-arrow { width: 35px; height: 35px; } .product-slider-container { padding: 0 20px; } .product-arrow.prev { left: -5px; } .product-arrow.next { right: -5px; } .banner-slide { font-size: 1.8rem; min-height: 250px; } .banner-arrow { width: 40px; height: 40px; } .placeholder-section { grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 15px; } .side-cart { width: 320px; } .product-carousel h2 { font-size: 1.5rem; margin-bottom: 25px; } .footer-container { grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 25px; } .main-footer { padding-top: 40px; } }
        @media (max-width: 480px) { .product-card { width: calc((100% / 1.5) - 16px); } .logo { font-size: 1.5rem; } .user-actions .icon { width: 1.6em; height: 1.6em; } .banner-slide { font-size: 1.5rem; min-height: 200px; } .banner-arrow { width: 35px; height: 35px; } .product-arrow { display: none; } .product-slider-container { padding: 0 10px; } .side-cart { width: 90%; } .cart-header h3 { font-size: 1.1rem; } .cart-footer-buttons .btn { padding: 10px; font-size: 0.9rem;} .cart-footer, .cart-content { padding: 15px; } .footer-container { grid-template-columns: 1fr; text-align: center;} .footer-socials { justify-content: center; } .newsletter-form { justify-content: center;} }

    </style>
</head>
<body>
    <!-- SVG Icons Definition (Mantido) -->
    <svg width="0" height="0" style="position:absolute"><defs><symbol viewBox="0 0 24 24" id="icon-search"><path fill="currentColor" d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5A6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5S14 7.01 14 9.5S11.99 14 9.5 14z"/></symbol><symbol viewBox="0 0 24 24" id="icon-location"><path fill="currentColor" d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></symbol><symbol viewBox="0 0 24 24" id="icon-bag"><path fill="currentColor" d="M18 6h-2c0-2.21-1.79-4-4-4S8 3.79 8 6H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-6-2c1.1 0 2 .9 2 2h-4c0-1.1.9-2 2-2zm6 16H6V8h2v2c0 .55.45 1 1 1s1-.45 1-1V8h4v2c0 .55.45 1 1 1s1-.45 1-1V8h2v12z"/></symbol><symbol viewBox="0 0 24 24" id="icon-user"><path fill="currentColor" d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></symbol><symbol viewBox="0 0 24 24" id="icon-heart"><path fill="currentColor" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></symbol><symbol viewBox="0 0 24 24" id="icon-chevron-left"><path fill="currentColor" d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></symbol><symbol viewBox="0 0 24 24" id="icon-chevron-right"><path fill="currentColor" d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></symbol><symbol viewBox="0 0 24 24" id="icon-close"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></symbol><symbol viewBox="0 0 24 24" id="icon-star"><path fill="currentColor" d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></symbol><symbol viewBox="0 0 24 24" id="icon-star-outline"><path fill="currentColor" d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"/></symbol><symbol viewBox="0 0 24 24" id="icon-placeholder-image"><path fill="currentColor" d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/></symbol><symbol viewBox="0 0 24 24" id="icon-facebook"><path fill="currentColor" d="M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.36 9.5 5.32v2.14H6.17v4.14h3.33V23.5h4.17V11.6h3.8l.44-4.14z"/></symbol><symbol viewBox="0 0 24 24" id="icon-instagram"><path fill="currentColor" d="M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2zm-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8c1.99 0 3.6-1.61 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6zm9.65 1.5a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5zM12 7a5 5 0 1 1 0 10 5 5 0 0 1 0-10zm0 2a3 3 0 1 0 0 6 3 3 0 0 0 0-6z"/></symbol><symbol viewBox="0 0 24 24" id="icon-whatsapp"><path fill="currentColor" d="M19.08 4.91A9.86 9.86 0 0 0 12.04 2c-5.46 0-9.91 4.45-9.91 9.91 0 1.75.46 3.45 1.32 4.95L2 22l5.25-1.38c1.45.79 3.08 1.21 4.79 1.21h.01c5.46 0 9.91-4.45 9.91-9.91 0-2.73-1.09-5.19-2.92-7.01zm-7.04 15.11c-1.57 0-3.05-.4-4.33-1.15l-.31-.18l-3.21.84l.86-3.12l-.2-.32a8.01 8.01 0 0 1-1.29-4.48c0-4.42 3.6-8.02 8.03-8.02c2.15 0 4.16.84 5.67 2.36c1.52 1.51 2.36 3.52 2.36 5.67c0 4.42-3.6 8.02-8.02 8.02zm4.4-6.38c-.22-.11-.64-.31-1.3-.6c-.11-.05-.2-.08-.29-.08c-.18 0-.35.05-.49.28c-.14.23-.53.67-.65.81c-.12.14-.24.16-.44.05c-.2-.11-1.03-.38-1.96-1.21c-.72-.65-1.2-1.45-1.34-1.7s-.1-.38-.01-.52c.09-.12.2-.31.3-.41c.1-.11.13-.18.2-.31c.06-.13.03-.24-.02-.34c-.05-.1-.44-1.06-.6-1.45c-.16-.39-.32-.34-.44-.34c-.11 0-.24 0-.36 0c-.12 0-.31.05-.47.28c-.16.23-.61.75-.61 1.81c0 1.06.62 2.1.71 2.24c.09.14 1.23 1.87 3 2.62c.42.18.76.29 1.03.37c.5.15.95.13 1.3.08c.4-.05.64-.31.86-.6c.22-.29.22-.54.15-.6z"/></symbol></defs></svg>

    <header class="main-header"> <!-- Header Mantido -->
        <div class="container header-container"><a href="#" class="logo">Beautyencers</a><form class="search-form"><input type="text" placeholder="OlÃ¡, o que procura hoje? :)"><button type="submit" aria-label="Buscar"><svg class="icon icon-sm"><use xlink:href="#icon-search"></use></svg></button></form><div class="user-actions"><div><svg class="icon"><use xlink:href="#icon-location"></use></svg><div class="action-text"><strong>LocalizaÃ§Ã£o</strong><span>DIGITE SEU CEP</span></div></div><button class="cart-button" aria-label="Abrir sacola de compras"><svg class="icon"><use xlink:href="#icon-bag"></use></svg><div class="action-text"><strong>Sacola</strong><span>SEUS PRODUTOS</span></div><span id="cart-item-count-badge" class="cart-item-count">0</span></button><div><svg class="icon"><use xlink:href="#icon-user"></use></svg><div class="action-text"><strong>Minha Conta</strong><span>FAÃA LOGIN</span></div></div></div></div>
    </header>

    <nav class="main-nav"> <!-- NavegaÃ§Ã£o Mantida -->
        <div class="container"><ul><li><a href="#" class="active">Shampoo</a></li><li><a href="#">Condicionador</a></li><li><a href="#">MÃ¡scaras</a></li><li><a href="#">Leave-In</a></li><li><a href="#">Alisante</a></li><li><a href="#">BB Cream</a></li><li><a href="#">Tinturas</a></li><li><a href="#">Oxidantes</a></li><li><a href="#">Tratamentos</a></li></ul></div>
    </nav>

    <main class="site-content">
        <!-- Banner Slider (Mantido com Loop JS) -->
        <section class="banner-slider"><div class="banner-slides"><div class="banner-slide"><span>PROMOÃÃO IMPERDÃVEL</span></div><div class="banner-slide"><span>NOVOS PRODUTOS CHEGARAM</span></div><div class="banner-slide"><span>FRETE GRÃTIS ACIMA DE R$199</span></div></div><button class="banner-arrow prev" aria-label="Slide anterior"><svg class="icon"><use xlink:href="#icon-chevron-left"></use></svg></button><button class="banner-arrow next" aria-label="PrÃ³ximo slide"><svg class="icon"><use xlink:href="#icon-chevron-right"></use></svg></button></section>

        <!-- Placeholder Section (Mantido) -->
        <section class="placeholder-section container"><div class="placeholder-box">Ofertas Especiais</div><div class="placeholder-box">Mais Vendidos</div><div class="placeholder-box">Novidades</div><div class="placeholder-box">Kits</div><div class="placeholder-box">AcessÃ³rios</div><div class="placeholder-box">Outlet</div></section>

        <!-- Product Carousel Section (JS Corrigido - Setas Invertidas) -->
        <section class="product-carousel">
            <h2>CONHEÃA OS PRODUTOS MAIS VENDIDOS</h2>
            <div class="product-slider-container">
                <div class="product-slider-wrapper">
                     <div class="product-slider">
                        <!-- Produtos (Mantidos) -->
                        <div class="product-card" data-product-id="P1" data-product-name="Shampoo Intensive 300ml" data-product-price="57.95"><div class="product-image-container"><svg class="placeholder-svg" viewBox="0 0 100 100"><use xlink:href="#icon-placeholder-image"></use></svg></div><div class="icons"><button class="icon-button" aria-label="Adicionar aos favoritos"><svg class="icon"><use xlink:href="#icon-heart"></use></svg></button></div><div class="rating"><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star-outline"></use></svg></div><h3>MACPAUL PROFESSIONAL</h3><p class="product-subname">Shampoo Intensive 300ml para cabelos secos</p><div class="price"><span class="original-price">R$ 69,90</span><span class="current-price">R$ 57,95</span><span class="pix-label">no PIX</span></div><p class="installments">ou 3x de R$ 20,33</p><button class="add-to-cart-btn">Comprar</button></div>
                        <div class="product-card" data-product-id="P2" data-product-name="Condicionador Hidratante" data-product-price="59.90"><div class="product-image-container"><svg class="placeholder-svg" viewBox="0 0 100 100"><use xlink:href="#icon-placeholder-image"></use></svg></div><div class="icons"><button class="icon-button" aria-label="Adicionar aos favoritos"><svg class="icon"><use xlink:href="#icon-heart"></use></svg></button></div><div class="rating"><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star-outline"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star-outline"></use></svg></div><h3>MARCA EXEMPLO</h3><p class="product-subname">Condicionador Hidratante Profundo 250ml</p><div class="price"><span class="original-price">R$ 72,50</span><span class="current-price">R$ 59,90</span><span class="pix-label">no PIX</span></div><p class="installments">ou 3x de R$ 20,99</p><button class="add-to-cart-btn">Comprar</button></div>
                        <div class="product-card" data-product-id="P3" data-product-name="MÃ¡scara Reparadora" data-product-price="70.00"><div class="product-image-container"><svg class="placeholder-svg" viewBox="0 0 100 100"><use xlink:href="#icon-placeholder-image"></use></svg></div><div class="icons"><button class="icon-button" aria-label="Adicionar aos favoritos"><svg class="icon"><use xlink:href="#icon-heart"></use></svg></button></div><div class="rating"><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg></div><h3>OUTRA MARCA</h3><p class="product-subname">MÃ¡scara Reparadora Intensiva Power Repair 200g</p><div class="price"><span class="original-price">R$ 85,00</span><span class="current-price">R$ 70,00</span><span class="pix-label">no PIX</span></div><p class="installments">ou 3x de R$ 24,50</p><button class="add-to-cart-btn">Comprar</button></div>
                        <div class="product-card" data-product-id="P4" data-product-name="Leave-in Protetor" data-product-price="45.90"><div class="product-image-container"><svg class="placeholder-svg" viewBox="0 0 100 100"><use xlink:href="#icon-placeholder-image"></use></svg></div><div class="icons"><button class="icon-button" aria-label="Adicionar aos favoritos"><svg class="icon"><use xlink:href="#icon-heart"></use></svg></button></div><div class="rating"><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star-outline"></use></svg></div><h3>MACPAUL PROFESSIONAL</h3><p class="product-subname">Leave-in Protetor TÃ©rmico Daily Use 150ml</p><div class="price"><span class="original-price">R$ 55,90</span><span class="current-price">R$ 45,90</span><span class="pix-label">no PIX</span></div><p class="installments">ou 3x de R$ 16,07</p><button class="add-to-cart-btn">Comprar</button></div>
                        <div class="product-card" data-product-id="P5" data-product-name="Ãleo Finalizador Argan" data-product-price="75.50"><div class="product-image-container"><svg class="placeholder-svg" viewBox="0 0 100 100"><use xlink:href="#icon-placeholder-image"></use></svg></div><div class="icons"><button class="icon-button" aria-label="Adicionar aos favoritos"><svg class="icon"><use xlink:href="#icon-heart"></use></svg></button></div><div class="rating"><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star-outline"></use></svg></div><h3>BEAUTY HAIR</h3><p class="product-subname">Ãleo Finalizador Argan Shine MultibenefÃ­cios 60ml</p><div class="price"><span class="original-price">R$ 90,00</span><span class="current-price">R$ 75,50</span><span class="pix-label">no PIX</span></div><p class="installments">ou 3x de R$ 26,43</p><button class="add-to-cart-btn">Comprar</button></div>
                        <div class="product-card" data-product-id="P6" data-product-name="Shampoo Nutritivo" data-product-price="56.00"><div class="product-image-container"><svg class="placeholder-svg" viewBox="0 0 100 100"><use xlink:href="#icon-placeholder-image"></use></svg></div><div class="icons"><button class="icon-button" aria-label="Adicionar aos favoritos"><svg class="icon"><use xlink:href="#icon-heart"></use></svg></button></div><div class="rating"><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg></div><h3>PRO LINE</h3><p class="product-subname">Shampoo Nutritivo Power Strength 300ml</p><div class="price"><span class="original-price">R$ 68,00</span><span class="current-price">R$ 56,00</span><span class="pix-label">no PIX</span></div><p class="installments">ou 3x de R$ 19,60</p><button class="add-to-cart-btn">Comprar</button></div>
                        <div class="product-card" data-product-id="P7" data-product-name="Condicionador Nutritivo" data-product-price="58.00"><div class="product-image-container"><svg class="placeholder-svg" viewBox="0 0 100 100"><use xlink:href="#icon-placeholder-image"></use></svg></div><div class="icons"><button class="icon-button" aria-label="Adicionar aos favoritos"><svg class="icon"><use xlink:href="#icon-heart"></use></svg></button></div><div class="rating"><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star-outline"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star-outline"></use></svg></div><h3>MACPAUL PROFESSIONAL</h3><p class="product-subname">Condicionador Nutritivo Power Strength 250ml</p><div class="price"><span class="original-price">R$ 70,00</span><span class="current-price">R$ 58,00</span><span class="pix-label">no PIX</span></div><p class="installments">ou 3x de R$ 20,30</p><button class="add-to-cart-btn">Comprar</button></div>
                        <div class="product-card" data-product-id="P8" data-product-name="MÃ¡scara Nutritiva Frizz" data-product-price="68.50"><div class="product-image-container"><svg class="placeholder-svg" viewBox="0 0 100 100"><use xlink:href="#icon-placeholder-image"></use></svg></div><div class="icons"><button class="icon-button" aria-label="Adicionar aos favoritos"><svg class="icon"><use xlink:href="#icon-heart"></use></svg></button></div><div class="rating"><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg></div><h3>SALON EXPERT</h3><p class="product-subname">MÃ¡scara Nutritiva Power Strength Control Frizz 200g</p><div class="price"><span class="original-price">R$ 82,50</span><span class="current-price">R$ 68,50</span><span class="pix-label">no PIX</span></div><p class="installments">ou 3x de R$ 23,98</p><button class="add-to-cart-btn">Comprar</button></div>
                        <div class="product-card" data-product-id="P9" data-product-name="Shampoo ProteÃ§Ã£o Cor" data-product-price="60.00"><div class="product-image-container"><svg class="placeholder-svg" viewBox="0 0 100 100"><use xlink:href="#icon-placeholder-image"></use></svg></div><div class="icons"><button class="icon-button" aria-label="Adicionar aos favoritos"><svg class="icon"><use xlink:href="#icon-heart"></use></svg></button></div><div class="rating"><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star-outline"></use></svg></div><h3>MACPAUL PROFESSIONAL</h3><p class="product-subname">Shampoo ProteÃ§Ã£o da Cor Color Shield 300ml</p><div class="price"><span class="original-price">R$ 71,90</span><span class="current-price">R$ 60,00</span><span class="pix-label">no PIX</span></div><p class="installments">ou 3x de R$ 21,00</p><button class="add-to-cart-btn">Comprar</button></div>
                        <div class="product-card" data-product-id="P10" data-product-name="Condicionador Cor" data-product-price="62.00"><div class="product-image-container"><svg class="placeholder-svg" viewBox="0 0 100 100"><use xlink:href="#icon-placeholder-image"></use></svg></div><div class="icons"><button class="icon-button" aria-label="Adicionar aos favoritos"><svg class="icon"><use xlink:href="#icon-heart"></use></svg></button></div><div class="rating"><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star-outline"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star-outline"></use></svg></div><h3>COLOR CARE</h3><p class="product-subname">Condicionador ProteÃ§Ã£o da Cor Extend Color 250ml</p><div class="price"><span class="original-price">R$ 74,00</span><span class="current-price">R$ 62,00</span><span class="pix-label">no PIX</span></div><p class="installments">ou 3x de R$ 21,70</p><button class="add-to-cart-btn">Comprar</button></div>
                     </div>
                 </div>
                <button class="product-arrow prev" aria-label="Produtos anteriores"> <svg class="icon"><use xlink:href="#icon-chevron-left"></use></svg> </button>
                <button class="product-arrow next" aria-label="PrÃ³ximos produtos"> <svg class="icon"><use xlink:href="#icon-chevron-right"></use></svg> </button>
            </div>
        </section>
    </main>

    <!-- Side Cart / Overlay / Footer (Mantidos) -->
    <div id="side-cart" class="side-cart"><div class="cart-header"><h3><svg class="icon"><use xlink:href="#icon-bag"></use></svg>Sua Sacola</h3><button id="close-cart-btn" class="close-cart-btn" aria-label="Fechar sacola"><svg class="icon"><use xlink:href="#icon-close"></use></svg></button></div><div class="cart-content"><div id="cart-items-list"></div><p id="empty-cart-message">Sua sacola estÃ¡ vazia.</p></div><div class="cart-footer"><div class="subtotal"><span>Subtotal:</span><span id="cart-subtotal">R$ 0,00</span></div><div class="cart-footer-buttons"><button id="checkout-btn-footer" class="btn">Finalizar Compra</button><button id="continue-shopping-btn" class="btn">Continuar Comprando</button></div></div></div>
    <div id="overlay" class="overlay"></div>
    <footer class="main-footer"><div class="container footer-container"><div class="footer-column"><h4>Institucional</h4><ul><li><a href="#">Sobre a Beautyencers</a></li><li><a href="#">PolÃ­tica de Privacidade</a></li><li><a href="#">Termos de Uso</a></li><li><a href="#">Trabalhe Conosco</a></li><li><a href="#">Nossas Lojas</a></li></ul></div><div class="footer-column"><h4>Atendimento</h4><ul><li><a href="#">Central de Ajuda (FAQ)</a></li><li><a href="#">Como Comprar</a></li><li><a href="#">Trocas e DevoluÃ§Ãµes</a></li><li><a href="#">PolÃ­tica de Entrega</a></li><li><a href="#">Fale Conosco</a></li></ul></div><div class="footer-column"><h4>Minha Conta</h4><ul><li><a href="#">Meus Pedidos</a></li><li><a href="#">Meu Cadastro</a></li><li><a href="#">Meus Favoritos</a></li><li><a href="#">Esqueci minha Senha</a></li></ul><h4>Redes Sociais</h4><div class="footer-socials"><a href="#" aria-label="Facebook"><svg class="icon"><use xlink:href="#icon-facebook"></use></svg></a><a href="#" aria-label="Instagram"><svg class="icon"><use xlink:href="#icon-instagram"></use></svg></a><a href="#" aria-label="Whatsapp"><svg class="icon"><use xlink:href="#icon-whatsapp"></use></svg></a></div></div><div class="footer-column footer-newsletter"><h4>Receba Novidades</h4><p>Cadastre-se e fique por dentro das nossas promoÃ§Ãµes e lanÃ§amentos!</p><form class="newsletter-form"><input type="email" placeholder="Digite seu e-mail" required><button type="submit">Cadastrar</button></form></div></div><div class="container footer-bottom"><div><img src="https://via.placeholder.com/50x30/ffffff/cccccc?text=Visa" alt="Visa"><img src="https://via.placeholder.com/50x30/ffffff/cccccc?text=Master" alt="Mastercard"><img src="https://via.placeholder.com/50x30/ffffff/cccccc?text=Pix" alt="Pix"><img src="https://via.placeholder.com/50x30/ffffff/cccccc?text=Boleto" alt="Boleto"></div><p>Â© 2024 Beautyencers. Todos os direitos reservados. CNPJ 00.000.000/0001-00</p><p>EndereÃ§o FictÃ­cio da Loja, 123 - Bairro Exemplo, Cidade-UF - CEP 00000-000</p></div></footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- Banner Slider (Looping - Mantido, verificado timing do reset) ---
            const bannerSliderContainer = document.querySelector('.banner-slider');
            const bannerSlides = bannerSliderContainer.querySelector('.banner-slides');
            const bannerPrevBtn = bannerSliderContainer.querySelector('.prev');
            const bannerNextBtn = bannerSliderContainer.querySelector('.next');
            const originalBannerSlides = Array.from(bannerSlides.querySelectorAll('.banner-slide'));
            const totalOriginalBanners = originalBannerSlides.length;

            if (totalOriginalBanners > 1) {
                let currentBannerIndex = 1;
                let isBannerTransitioning = false;
                const firstClone = originalBannerSlides[0].cloneNode(true);
                const lastClone = originalBannerSlides[totalOriginalBanners - 1].cloneNode(true);
                bannerSlides.appendChild(firstClone);
                bannerSlides.insertBefore(lastClone, originalBannerSlides[0]);
                const allBannerSlides = bannerSlides.querySelectorAll('.banner-slide');

                function setBannerPosition() { bannerSlides.style.transform = `translateX(-${currentBannerIndex * 100}%)`; }
                function shiftBannerSlide(direction) {
                    if (isBannerTransitioning) return; isBannerTransitioning = true;
                    currentBannerIndex += direction;
                    bannerSlides.style.transition = `transform var(--transition-smooth) ease-in-out`; // Ensure smooth transition is ON
                    setBannerPosition();
                }
                bannerSlides.addEventListener('transitionend', () => {
                    // Check boundaries after transition finishes
                    const jumped = performBannerResetIfNeeded();
                    isBannerTransitioning = false; // Allow next click
                    // If jumped, transition is already 'none', re-enable it shortly for subsequent clicks
                    if (jumped) {
                         setTimeout(() => {
                             bannerSlides.style.transition = `transform var(--transition-smooth) ease-in-out`;
                         }, 20); // Minimal delay just to ensure browser processes the non-transitioned state
                     }
                });

                 function performBannerResetIfNeeded(){
                     let jumped = false;
                      // Reset to first actual slide if we landed on the last clone
                     if (currentBannerIndex === allBannerSlides.length - 1) {
                         currentBannerIndex = 1;
                         bannerSlides.style.transition = 'none'; // Disable transition for jump
                         setBannerPosition();
                         jumped = true;
                     }
                     // Reset to last actual slide if we landed on the first clone
                     else if (currentBannerIndex === 0) {
                         currentBannerIndex = allBannerSlides.length - 2;
                         bannerSlides.style.transition = 'none'; // Disable transition for jump
                         setBannerPosition();
                         jumped = true;
                     }
                      return jumped;
                 }

                bannerSlides.style.transition = 'none'; setBannerPosition(); // Initial position without transition
                setTimeout(() => { bannerSlides.style.transition = `transform var(--transition-smooth) ease-in-out`; }, 50); // Enable after load
                bannerPrevBtn.addEventListener('click', () => shiftBannerSlide(-1));
                bannerNextBtn.addEventListener('click', () => shiftBannerSlide(1));
            } else {
                if(bannerPrevBtn) bannerPrevBtn.style.display = 'none';
                if(bannerNextBtn) bannerNextBtn.style.display = 'none';
            }


             // --- Product Slider (Infinite Scroll - DireÃ§Ã£o das Setas CORRIGIDA) ---
            const productSliderWrapper = document.querySelector('.product-slider-wrapper');
            const productSlider = document.querySelector('.product-slider');
            const productPrevBtn = document.querySelector('.product-carousel .prev');
            const productNextBtn = document.querySelector('.product-carousel .next');
            // Re-query originals inside setup to handle potential resize/re-setup
            // const originalProductItems = Array.from(productSlider.querySelectorAll('.product-card:not(.clone)'));
            // const totalOriginalProductItems = originalProductItems.length; // Calculate inside setup

            if (productSlider && productPrevBtn && productNextBtn) { // Check elements exist
                let itemsToClone = 5; // Default, adjust if needed
                let itemWidth = 0;
                let clonesPrependedWidth = 0;
                let currentTranslateX = 0;
                let isProductDragging = false;
                let productStartPos = 0;
                let currentProductDragTranslate = 0;
                let productAnimationID = 0;
                let isProductArrowTransitioning = false; // Still useful

                 function calculateProductItemWidth() {
                     const currentItems = Array.from(productSlider.querySelectorAll('.product-card:not(.clone)'));
                     if (currentItems.length > 0) {
                        const firstCard = currentItems[0];
                        const style = window.getComputedStyle(firstCard);
                        itemWidth = firstCard.offsetWidth + parseFloat(style.marginLeft) + parseFloat(style.marginRight);
                        return itemWidth > 0;
                     }
                     return false;
                }

                 function setupInfiniteProductSlider() {
                    productSlider.style.transition = 'none';
                    productSlider.querySelectorAll('.clone').forEach(clone => clone.remove());

                    const currentOriginals = Array.from(productSlider.querySelectorAll('.product-card:not(.clone)'));
                    const currentOriginalsCount = currentOriginals.length;
                     if (currentOriginalsCount === 0 || !calculateProductItemWidth()) { return; }

                     itemsToClone = Math.min(currentOriginalsCount, 5); // Recalculate based on current count

                     // --- Cloning ---
                     for (let i = 0; i < itemsToClone; i++) {
                         const indexToClone = (currentOriginalsCount - 1 - i + currentOriginalsCount) % currentOriginalsCount;
                         const clone = currentOriginals[indexToClone].cloneNode(true);
                         clone.classList.add('clone');
                         productSlider.insertBefore(clone, productSlider.firstChild);
                     }
                     for (let i = 0; i < itemsToClone; i++) {
                         const indexToClone = i % currentOriginalsCount; // Ensure wrap around if itemsToClone > count
                         const clone = currentOriginals[indexToClone].cloneNode(true);
                         clone.classList.add('clone');
                         productSlider.appendChild(clone);
                     }

                     clonesPrependedWidth = itemsToClone * itemWidth;
                     currentTranslateX = -clonesPrependedWidth;
                     setProductPosition(); // Apply initial position without transition
                 }

                 function setProductPosition() { productSlider.style.transform = `translateX(${currentTranslateX}px)`; }

                function performProductResetIfNeeded(){
                    const currentOriginalsCount = productSlider.querySelectorAll('.product-card:not(.clone)').length;
                    if (currentOriginalsCount === 0 || itemWidth === 0) return false;

                    const endOfOriginalContent = -(clonesPrependedWidth + currentOriginalsCount * itemWidth);
                    let needsReset = false;

                    if (currentTranslateX <= endOfOriginalContent) {
                        currentTranslateX += currentOriginalsCount * itemWidth;
                        needsReset = true;
                    } else if (currentTranslateX > -clonesPrependedWidth) { // Use > comparison for upper bound
                        currentTranslateX -= currentOriginalsCount * itemWidth;
                        needsReset = true;
                    }

                    if(needsReset) {
                        productSlider.style.transition = 'none';
                        setProductPosition();
                        void productSlider.offsetWidth;
                    }
                     return needsReset;
                 }

                function slideProduct(direction) {
                    if (isProductArrowTransitioning || itemWidth <= 0) return;
                    isProductArrowTransitioning = true;

                    productSlider.style.transition = `transform var(--transition-smooth) ease`; // Apply smooth transition
                    currentTranslateX -= direction * itemWidth; // Apply movement
                    setProductPosition();

                    // Use setTimeout for reliable reset after transition
                    setTimeout(() => {
                        performProductResetIfNeeded(); // Check and jump if needed (will set transition to 'none')
                        // No need to re-enable smooth transition here, next action will set it.
                        isProductArrowTransitioning = false;
                    }, parseFloat(getComputedStyle(productSlider).getPropertyValue('--transition-smooth') || '0.5') * 1000 + 20); // Buffer added
                 }


                 // --- Drag Logic (Mantido) ---
                 function getPositionX(event) { return event.type.includes('mouse') ? event.pageX : event.touches[0].clientX; }
                 function productDragStart(event) {
                     if (isProductArrowTransitioning) return;
                     isProductDragging = true; productStartPos = getPositionX(event); currentProductDragTranslate = currentTranslateX;
                     productSliderWrapper.classList.add('grabbing'); productSlider.style.transition = 'none';
                     productAnimationID = requestAnimationFrame(productAnimation);
                 }
                 function productDragMove(event) {
                     if (!isProductDragging) return;
                     const currentPosition = getPositionX(event); const diff = currentPosition - productStartPos;
                     currentTranslateX = currentProductDragTranslate + diff;
                 }
                 function productDragEnd() {
                     if (!isProductDragging) return; isProductDragging = false;
                     cancelAnimationFrame(productAnimationID); productSliderWrapper.classList.remove('grabbing');
                     performProductResetIfNeeded(); // Check/reset immediately after drag ends
                     setProductPosition(); // Ensure final position is set
                 }
                 function productAnimation() { if (isProductDragging) { setProductPosition(); requestAnimationFrame(productAnimation); } }

                 // Event Listeners for Drag
                 productSliderWrapper.addEventListener('mousedown', productDragStart);
                 productSliderWrapper.addEventListener('touchstart', productDragStart, { passive: true });
                 productSliderWrapper.addEventListener('mousemove', productDragMove);
                 productSliderWrapper.addEventListener('touchmove', productDragMove, { passive: true });
                 productSliderWrapper.addEventListener('mouseup', productDragEnd);
                 productSliderWrapper.addEventListener('mouseleave', productDragEnd);
                 productSliderWrapper.addEventListener('touchend', productDragEnd);
                 productSliderWrapper.addEventListener('touchcancel', productDragEnd);

                 // Arrow Button Listeners (CORRIGIDO)
                 productPrevBtn.addEventListener('click', () => slideProduct(-1)); // Prev: Move Left -> Add itemWidth -> direction = -1
                 productNextBtn.addEventListener('click', () => slideProduct(1));  // Next: Move Right -> Subtract itemWidth -> direction = 1

                 // --- Initialization ---
                 setupInfiniteProductSlider();
                 window.addEventListener('resize', setupInfiniteProductSlider); // Re-run setup on resize

             }


            // --- Side Cart & Add to Cart Simulation (Mantido) ---
            const cartButton = document.querySelector('.cart-button');
            const sideCart = document.getElementById('side-cart');
            const closeCartBtn = document.getElementById('close-cart-btn');
            const overlay = document.getElementById('overlay');
            const cartBadge = document.getElementById('cart-item-count-badge');
            const cartItemsList = document.getElementById('cart-items-list');
            const emptyCartMessage = document.getElementById('empty-cart-message');
            const cartSubtotalElement = document.getElementById('cart-subtotal');
            const continueShoppingBtn = document.getElementById('continue-shopping-btn');
            let cartItemCount = 0; let cartSubtotal = 0.00;

            const openCart = () => { sideCart.classList.add('open'); overlay.classList.add('active'); document.body.style.overflow = 'hidden'; };
            const closeCart = () => { sideCart.classList.remove('open'); overlay.classList.remove('active'); document.body.style.overflow = ''; };
            function formatCurrency(value) { return value.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' }); }
            function updateCartView() { cartBadge.textContent = cartItemCount; cartBadge.classList.toggle('visible', cartItemCount > 0); emptyCartMessage.classList.toggle('hidden', cartItemCount > 0); cartSubtotalElement.textContent = formatCurrency(cartSubtotal); }
            function addToCart(productData) {
                cartItemCount++; cartSubtotal += parseFloat(productData.price);
                const cartItemHTML = `<div class="cart-item" data-id="${productData.id}"><img src="https://via.placeholder.com/60x60/f1f3f5/adb5bd?text=${productData.id}" alt="${productData.name}"><div class="cart-item-details"><h4>${productData.name}</h4><div class="price">${formatCurrency(parseFloat(productData.price))}</div></div></div>`;
                cartItemsList.insertAdjacentHTML('beforeend', cartItemHTML); updateCartView(); openCart();
            }
            if (cartButton && sideCart && closeCartBtn && overlay && continueShoppingBtn) {
                cartButton.addEventListener('click', openCart); closeCartBtn.addEventListener('click', closeCart); overlay.addEventListener('click', closeCart); continueShoppingBtn.addEventListener('click', closeCart);
                document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && sideCart.classList.contains('open')) closeCart(); });
                const productSliderElement = document.querySelector('.product-slider');
                if (productSliderElement) {
                    productSliderElement.addEventListener('click', (event) => {
                        const button = event.target.closest('.add-to-cart-btn');
                        if (button && !button.disabled) {
                            const card = button.closest('.product-card');
                            if (card && card.dataset.productId) {
                                const productData = { id: card.dataset.productId, name: card.dataset.productName || 'Produto', price: card.dataset.productPrice || '50.00' };
                                addToCart(productData);
                                const originalText = button.textContent; button.textContent = 'Adicionado!'; button.disabled = true;
                                setTimeout(() => { button.textContent = originalText; button.disabled = false; }, 1200);
                            }
                        }
                    });
                }
            } else { console.error("Alguns elementos da UI do carrinho nÃ£o foram encontrados!"); }
            updateCartView();
        });
    </script>

</body>
</html>
