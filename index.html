<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Título atualizado para refletir a mesclagem -->
    <title>Beautyencers - Layout Mesclado com Novo Header/Banner</title>
    <!-- Google Fonts (Mantém Poppins, que é usado em ambos) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* --- Estilos Globais e Variáveis CSS (Mesclados) --- */
        :root {
            /* Cores do NOVO header/banner (Primária E6395F) */
            --primary-color: #E6395F;
            --primary-color-dark: #c12f4f; /* Escurecido para hover, se necessário */
            --text-color: #333; /* Cor de texto principal do novo header */

            /* Cores Mantidas do protótipo ORIGINAL (para footer, produto, carrinho, etc.) */
            --secondary-color: #f8f9fa; /* Usado no carrinho, nav antigo */
            --text-color-light: #6c757d; /* Usado em textos secundários, placeholders */
            --border-color: #dee2e6; /* Cor de borda genérica */
            --white: #fff;
            --light-gray: #f1f3f5; /* Fundo de placeholders, etc. */
            --footer-bg: #212529;
            --footer-text: #adb5bd;
            --footer-link-hover: var(--white);

            /* Variáveis de Layout e Efeitos (Combinação) */
            --content-max-width: 1250px; /* Do novo layout */
            --header-height: 145px; /* Valor inicial, ajustado por JS */
            --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.07);
            --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.08);
            --border-radius: 8px;
            --transition-speed: 0.3s;
            --transition-smooth: 0.5s; /* Mantido para o carrossel de produtos */
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Poppins', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            padding-top: var(--header-height); /* Ajustado pelo JS do NOVO header */
            background-color: #f8f8f8; /* Fundo geral da página (do novo layout) */
            display: flex; /* Mantido do ORIGINAL para estrutura flex com footer */
            flex-direction: column; /* Mantido do ORIGINAL */
            min-height: 100vh; /* Mantido do ORIGINAL */
            -webkit-font-smoothing: antialiased; /* Mantido do ORIGINAL */
            -moz-osx-font-smoothing: grayscale; /* Mantido do ORIGINAL */
        }

        /* Mantido do ORIGINAL: Garante que o conteúdo principal cresça */
        .site-content { flex: 1; }

        /* Container geral (usando a largura do novo layout) */
        .container {
            max-width: var(--content-max-width);
            margin-left: auto;
            margin-right: auto;
            padding-left: 15px;
            padding-right: 15px;
        }

        a { text-decoration: none; color: var(--primary-color); /* Cor primária como link padrão */ transition: color var(--transition-speed) ease; }
        a:hover { color: var(--primary-color-dark); /* Use a versão escura no hover */ }
        ul { list-style: none; }
        img, svg { max-width: 100%; display: block; }
        button { cursor: pointer; border: none; background: none; font-family: inherit; }

        /* Estilos de Ícones (Mantidos e adaptados) */
        .icon { display: inline-block; width: 1.3em; height: 1.3em; vertical-align: middle; fill: currentColor; }
        .icon-sm { width: 1em; height: 1em; }
        .icon-lg { width: 1.8em; height: 1.8em; }


        /* --- Estilos do NOVO Header --- */
        .site-header {
            position: fixed; top: 0; left: 0; width: 100%;
            background-color: var(--white); z-index: 1000;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .header-top-bar {
            background-color: #f5f5f5; padding: 5px 0;
            font-size: 0.75rem; color: #666; text-align: center;
        }
        .header-top-bar .container { display: flex; align-items: center; justify-content: center; gap: 5px; }
        .header-top-bar svg { width: 14px; height: 14px; fill: #666; }
        .header-main { padding: 15px 0; }
        .header-main .container { display: flex; justify-content: space-between; align-items: center; gap: 20px; }
        .header-logo img { height: 40px; width: auto; }
        .header-search { flex-grow: 1; max-width: 450px; }
        .search-form { display: flex; border: 1px solid #e0e0e0; border-radius: 20px; overflow: hidden; }
        .search-input { flex-grow: 1; border: none; padding: 10px 15px; font-size: 0.9rem; outline: none; }
        .search-button { background-color: transparent; border: none; padding: 0 15px; display: flex; align-items: center; justify-content: center; }
        .search-button svg { width: 18px; height: 18px; fill: #888; }
        .header-actions { display: flex; align-items: center; gap: 25px; }
        .action-item { display: flex; align-items: center; gap: 8px; font-size: 0.8rem; color: #555; cursor: pointer; position: relative; /* Para posicionar o badge */ }
        .action-item svg.icon { width: 24px; height: 24px; fill: var(--primary-color); }
        .action-item .action-text { display: flex; flex-direction: column; line-height: 1.2; }
        .action-text strong { font-weight: 600; color: #333; font-size: 0.85rem; }
        .action-text span { font-size: 0.7rem; color: #777; }
        .action-item svg.arrow-down { width: 10px; height: 10px; fill: #888; margin-left: -2px; margin-top: 2px; }
        .header-nav { border-top: 1px solid #eee; }
        .nav-list { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; flex-wrap: wrap; } /* Added flex-wrap */
        .nav-item a { padding: 8px 10px; font-size: 0.9rem; font-weight: 500; color: #444; transition: color 0.2s ease; } /* Reduced padding slightly */
        .nav-item a:hover { color: var(--primary-color); }

        /* COMENTÁRIO DE MESCLAGEM: Estilo para o contador da sacola (adaptado do original) */
        .cart-item-count {
            position: absolute;
            top: -7px;      /* Ajuste a posição conforme necessário */
            right: -10px;   /* Ajuste a posição conforme necessário */
            background-color: var(--primary-color-dark); /* Cor consistente */
            color: var(--white);
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 0.7rem;
            font-weight: 600;
            display: flex;
            justify-content: center;
            align-items: center;
            line-height: 1;
            transform: scale(0);
            transition: transform var(--transition-speed) cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .cart-item-count.visible { transform: scale(1); }


        /* --- Estilos do NOVO Slider --- */
        .slider-container {
            width: 100%; max-width: var(--content-max-width); height: 420px;
            position: relative; overflow: hidden;
            margin: 0 auto 40px auto; /* Centraliza e adiciona margem inferior */
            /* Removido background e sombra opcionais */
        }
        .slider-wrapper { display: flex; height: 100%; }
        .slide { min-width: 100%; height: 100%; flex-shrink: 0; box-sizing: border-box; background-color: #f0f0f0; }
        .slide img { width: 100%; height: 100%; object-fit: cover; }
        .nav-btn {
            position: absolute; top: 50%; transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.3); border: none; border-radius: 50%;
            cursor: pointer; padding: 10px; z-index: 10; width: 40px; height: 40px;
            display: flex; justify-content: center; align-items: center;
            transition: background-color 0.2s ease;
        }
        .nav-btn:hover { background-color: rgba(0, 0, 0, 0.5); }
        .nav-btn span { display: block; width: 10px; height: 10px; border: solid white; border-width: 0 3px 3px 0; margin-top: -2px; }
        .prev-btn { left: 20px; }
        .prev-btn span { transform: rotate(135deg); -webkit-transform: rotate(135deg); margin-left: 2px; }
        .next-btn { right: 20px; }
        .next-btn span { transform: rotate(-45deg); -webkit-transform: rotate(-45deg); margin-right: 2px; }
        @media (min-width: calc(var(--content-max-width) + 60px)) { /* Ajuste das setas em telas largas */
            .prev-btn { left: calc((100% - var(--content-max-width)) / 2 + 15px); }
            .next-btn { right: calc((100% - var(--content-max-width)) / 2 + 15px); }
        }
        .pagination { position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%); display: flex; gap: 10px; z-index: 10; align-items: center; }
        .dot { width: 20px; height: 6px; background-color: rgba(255, 255, 255, 0.5); border-radius: 3px; cursor: pointer; transition: background-color 0.3s ease, width 0.3s ease; }
        .dot.active { background-color: white; width: 30px; }
        .no-transition { transition: none !important; }


        /* --- Main Content Wrapper (Mantido do original, ajustado padding) --- */
        /* COMENTÁRIO DE MESCLAGEM: .site-content agora é a tag main */
        main.site-content {
            padding-top: 30px; /* Espaçamento após o banner */
            padding-bottom: 60px;
            background-color: #fff; /* Fundo branco para a área de conteúdo principal */
        }

        /* --- Placeholder Section (Mantido do original) --- */
        .placeholder-section { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 20px; margin: 0 auto 40px auto; max-width: var(--content-max-width); /* Usa largura do novo layout */ padding: 0 15px; }
        .placeholder-box { height: 70px; background-color: var(--light-gray); border: 1px solid var(--border-color); border-radius: var(--border-radius); display: flex; justify-content: center; align-items: center; color: var(--text-color-light); font-size: 0.9rem; text-align: center; padding: 5px; }

        /* --- Product Carousel Section (Mantido do original, ajustado max-width) --- */
        .product-carousel { max-width: var(--content-max-width); margin: 60px auto; padding: 0; }
        .product-carousel h2 { text-align: center; margin-bottom: 35px; font-weight: 600; font-size: 1.8rem; color: var(--text-color); padding: 0 15px; }
        .product-slider-container { position: relative; width: 100%; padding: 0 30px; margin: 0 auto; }
        .product-slider-wrapper { width: 100%; overflow: hidden; position: relative; cursor: grab; }
        .product-slider { display: flex; padding: 10px 0 20px 0; position: relative; left: 0; -webkit-overflow-scrolling: touch; scrollbar-width: none; -ms-overflow-style: none; }
        .product-slider.grabbing { cursor: grabbing; }
        .product-slider::-webkit-scrollbar { display: none; }
        .product-card { border: 1px solid var(--border-color); border-radius: var(--border-radius); padding: 20px; text-align: center; background-color: var(--white); flex: 0 0 auto; width: calc((100% / 4.5) - 16px); margin: 0 8px; position: relative; transition: transform 0.2s ease, box-shadow 0.2s ease; box-shadow: var(--shadow-sm); user-select: none; }
        .product-card * { user-select: none; } .product-card a, .product-card button { user-select: auto; }
        .product-card:hover { transform: translateY(-5px); box-shadow: var(--shadow-md); }
        .product-card .product-image-container { margin-bottom: 15px; position: relative; background-color: var(--light-gray); border-radius: calc(var(--border-radius) / 2); overflow: hidden; }
        .product-card img, .product-card svg.placeholder-svg { width: 100%; height: 180px; object-fit: contain; display: block; }
        .placeholder-svg path { fill: #adb5bd; }
        .product-card .icons { position: absolute; top: 10px; right: 10px; display: flex; flex-direction: column; gap: 10px; opacity: 0; transition: opacity var(--transition-speed) ease; }
        .product-card:hover .icons { opacity: 1; }
        .product-card .icon-button { background-color: rgba(255, 255, 255, 0.85); border-radius: 50%; padding: 6px; display: flex; justify-content: center; align-items: center; color: var(--text-color-light); box-shadow: var(--shadow-sm); transition: background-color 0.2s, color 0.2s; }
        .product-card .icon-button .icon { width: 1.1em; height: 1.1em; }
        .product-card .icon-button:hover { background-color: var(--primary-color); color: var(--white); }
        .product-card .rating { color: #ffc107; margin-bottom: 8px; font-size: 0.8rem; }
        .product-card h3 { font-size: 0.9rem; font-weight: 600; margin-bottom: 5px; color: var(--text-color); text-transform: uppercase; display: -webkit-box; -webkit-line-clamp: 1; -webkit-box-orient: vertical; overflow: hidden; text-overflow: ellipsis; }
        .product-card .product-subname { font-size: 0.85rem; color: var(--text-color-light); margin-bottom: 12px; min-height: 34px; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; text-overflow: ellipsis; }
        .product-card .price { margin-bottom: 8px; }
        .product-card .original-price { font-size: 0.8rem; color: var(--text-color-light); text-decoration: line-through; margin-right: 8px; }
        /* COMENTÁRIO DE MESCLAGEM: Usando a nova cor primária para o preço */
        .product-card .current-price { font-size: 1.2rem; font-weight: 700; color: var(--primary-color); margin-right: 5px; }
        .product-card .pix-label { font-size: 0.75rem; color: var(--text-color-light); font-weight: 500; }
        .product-card .installments { font-size: 0.8rem; color: var(--text-color-light); margin-bottom: 15px; }
        /* COMENTÁRIO DE MESCLAGEM: Usando a nova cor primária para o botão */
        .product-card .add-to-cart-btn { display: inline-block; background-color: var(--primary-color); color: var(--white); padding: 8px 15px; border-radius: var(--border-radius); font-size: 0.85rem; font-weight: 600; text-transform: uppercase; transition: background-color 0.2s ease, transform 0.1s ease; margin-top: auto; }
        .product-card .add-to-cart-btn:hover { background-color: var(--primary-color-dark); transform: scale(1.03); }
        .product-arrow { position: absolute; top: 45%; transform: translateY(-50%); background-color: var(--white); border: 1px solid var(--border-color); border-radius: 50%; color: var(--text-color); width: 40px; height: 40px; font-size: 1.2rem; cursor: pointer; z-index: 10; display: flex; justify-content: center; align-items: center; box-shadow: var(--shadow-sm); transition: background-color 0.2s, box-shadow 0.2s, color 0.2s; }
        .product-arrow .icon { width: 1.4em; height: 1.4em; }
        .product-arrow:hover { background-color: var(--light-gray); box-shadow: var(--shadow-md); color: var(--primary-color); }
        .product-arrow.prev { left: 0px; } .product-arrow.next { right: 0px; }

        /* --- Side Cart / Overlay (Mantidos do original) --- */
        .side-cart { position: fixed; top: 0; right: -100%; width: 380px; max-width: 95%; height: 100%; background-color: var(--white); box-shadow: -4px 0 15px rgba(0, 0, 0, 0.15); z-index: 1001; transition: right 0.4s cubic-bezier(0.25, 0.8, 0.25, 1); display: flex; flex-direction: column; }
        .side-cart.open { right: 0; }
        .cart-header { padding: 20px; border-bottom: 1px solid var(--border-color); display: flex; justify-content: space-between; align-items: center; background-color: var(--secondary-color); }
        .cart-header h3 { margin: 0; font-size: 1.3rem; font-weight: 600; color: var(--text-color); display: flex; align-items: center; gap: 10px; }
        /* COMENTÁRIO DE MESCLAGEM: Ícone da sacola no header do carrinho usa a nova cor primária */
        .cart-header .icon { color: var(--primary-color); }
        .close-cart-btn { font-size: 1.5rem; color: var(--text-color-light); padding: 5px; line-height: 0; }
        .close-cart-btn:hover { color: var(--primary-color); }
        .close-cart-btn .icon { width: 1.2em; height: 1.2em; }
        .cart-content { flex-grow: 1; padding: 25px; overflow-y: auto; color: var(--text-color-light); }
        #cart-items-list { }
        .cart-item { display: flex; align-items: center; gap: 15px; padding: 15px 0; border-bottom: 1px solid var(--border-color); text-align: left; }
        .cart-item img { width: 60px; height: 60px; object-fit: cover; border-radius: 4px; border: 1px solid var(--border-color); }
        .cart-item-details { flex-grow: 1; }
        .cart-item-details h4 { font-size: 0.9rem; margin-bottom: 5px; font-weight: 500; color: var(--text-color); display: -webkit-box; -webkit-line-clamp: 1; -webkit-box-orient: vertical; overflow: hidden; text-overflow: ellipsis; }
        /* COMENTÁRIO DE MESCLAGEM: Preço no item do carrinho usa a nova cor primária */
        .cart-item-details .price { font-size: 0.9rem; font-weight: 600; color: var(--primary-color); }
        #empty-cart-message { margin-top: 40px; font-size: 1rem; text-align: center; }
        #empty-cart-message.hidden { display: none; }
        .cart-footer { padding: 25px; border-top: 1px solid var(--border-color); background-color: var(--secondary-color); }
        .cart-footer .subtotal { display: flex; justify-content: space-between; margin-bottom: 20px; font-weight: 600; font-size: 1.1rem; color: var(--text-color); }
        #cart-subtotal { }
        .cart-footer-buttons { margin-top: 15px; display: flex; flex-direction: column; gap: 10px; }
        .cart-footer-buttons .btn { display: block; width: 100%; padding: 12px; border-radius: var(--border-radius); font-size: 0.95rem; font-weight: 600; text-align: center; transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease, transform 0.1s ease; }
        .cart-footer-buttons .btn:hover { transform: scale(1.02); }
        /* COMENTÁRIO DE MESCLAGEM: Botões no footer do carrinho usam a nova cor primária */
        #checkout-btn-footer { background-color: var(--primary-color); color: white; border: 1px solid var(--primary-color); }
        #checkout-btn-footer:hover { background-color: var(--primary-color-dark); border-color: var(--primary-color-dark); }
        #continue-shopping-btn { background-color: transparent; color: var(--primary-color); border: 1px solid var(--primary-color); }
        #continue-shopping-btn:hover { background-color: var(--light-gray); }
        .overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(255, 255, 255, 0.8); z-index: 1000; opacity: 0; visibility: hidden; transition: opacity 0.4s ease-in-out, visibility 0s 0.4s linear; }
        .overlay.active { opacity: 1; visibility: visible; transition: opacity 0.4s ease-in-out; }

        /* --- Footer (Mantido do original, mas usando a nova cor primária para hover e botões) --- */
        .main-footer { background-color: var(--footer-bg); color: var(--footer-text); padding: 50px 0 20px 0; margin-top: auto; } /* margin-top: auto mantido */
        .footer-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 30px; margin-bottom: 40px; }
        .footer-column h4 { color: var(--white); font-size: 1.1rem; margin-bottom: 15px; font-weight: 600; }
        .footer-column ul li { margin-bottom: 10px; }
        .footer-column ul li a { color: var(--footer-text); font-size: 0.9rem; transition: color var(--transition-speed) ease, padding-left var(--transition-speed) ease; }
        .footer-column ul li a:hover { color: var(--footer-link-hover); padding-left: 5px; }
        .footer-socials { display: flex; gap: 15px; margin-top: 10px; }
        .footer-socials a { color: var(--footer-text); font-size: 1.4rem; }
        /* COMENTÁRIO DE MESCLAGEM: Hover dos ícones sociais usa nova cor primária */
        .footer-socials a:hover { color: var(--primary-color); }
        .footer-newsletter p { font-size: 0.9rem; margin-bottom: 15px; }
        .newsletter-form { display: flex; margin-top: 10px; }
        .newsletter-form input[type="email"] { flex-grow: 1; padding: 10px; border: 1px solid #495057; border-radius: var(--border-radius) 0 0 var(--border-radius); background-color: #495057; color: var(--white); font-size: 0.9rem; outline: none; }
        .newsletter-form input::placeholder { color: #adb5bd; }
        /* COMENTÁRIO DE MESCLAGEM: Botão de newsletter usa nova cor primária */
        .newsletter-form button { padding: 10px 15px; background-color: var(--primary-color); color: var(--white); border: none; border-radius: 0 var(--border-radius) var(--border-radius) 0; font-size: 0.9rem; font-weight: 600; transition: background-color var(--transition-speed) ease; }
        .newsletter-form button:hover { background-color: var(--primary-color-dark); }
        .footer-bottom { border-top: 1px solid #495057; padding-top: 20px; text-align: center; font-size: 0.85rem; }
        .footer-payments img { height: 25px; margin: 0 5px; display: inline-block; vertical-align: middle; opacity: 0.8; }
        .footer-bottom p { margin-top: 15px; }

        /* --- Estilos Responsivos (Mesclados e Adaptados) --- */
        @media (max-width: 1024px) {
            /* Ajustes do Header Novo */
            .header-main .container { gap: 15px; }
            .header-search { max-width: 350px; }
            .header-actions { gap: 15px; }
            .nav-list { justify-content: center; gap: 5px 15px; /* Gap vertical e horizontal */}
            .nav-item a { padding: 8px; font-size: 0.85rem;}

            /* Ajustes do Slider Novo */
            .slider-container { height: 350px; margin-bottom: 30px; }
            .nav-btn { width: 35px; height: 35px; padding: 8px; }
            .prev-btn { left: 15px; } .next-btn { right: 15px; }
             @media (min-width: calc(var(--content-max-width) + 60px)) { /* Reset das setas */
                 .prev-btn { left: calc((100% - var(--content-max-width)) / 2 + 15px); }
                 .next-btn { right: calc((100% - var(--content-max-width)) / 2 + 15px); }
            }
            .pagination { bottom: 15px; }

            /* Ajustes Mantidos (Produtos, Footer) */
            .product-card { width: calc((100% / 3.5) - 16px); }
            .product-slider-container { padding: 0 25px; }
            .product-arrow.prev { left: -5px; } .product-arrow.next { right: -5px; }
            .footer-container { grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); }
        }

        @media (max-width: 768px) {
            /* Ajustes do Header Novo */
             .header-main .container { flex-wrap: wrap; }
             .header-logo { order: 1; }
             .header-actions { order: 2; margin-left: auto; /* Empurra para a direita */}
             .header-search { order: 3; width: 100%; max-width: none; margin-top: 10px; }
             .action-item .action-text { display: none; } /* Esconde texto das ações */
             .action-item svg.icon { width: 28px; height: 28px; } /* Ícones maiores */
             .action-item svg.arrow-down { display: none; } /* Esconde setinha */
             .header-actions { gap: 20px; } /* Aumenta gap entre ícones */
             .header-nav { overflow-x: auto; padding: 0 15px; } /* Navegação rolável */
             .nav-list { flex-wrap: nowrap; justify-content: flex-start; padding: 10px 0; gap: 20px; }

            /* Ajustes do Slider Novo */
            .slider-container { height: 300px; margin-bottom: 25px; }

            /* Ajustes Mantidos (Produtos, Placeholder, Carrinho, Footer) */
            .container { padding: 0 15px; } /* Reduz padding geral */
            .product-card { width: calc((100% / 2.2) - 16px); }
            .product-arrow { width: 35px; height: 35px; }
            .product-slider-container { padding: 0 20px; }
            .product-arrow.prev { left: -5px; } .product-arrow.next { right: -5px; }
            .placeholder-section { grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 15px; }
            .side-cart { width: 320px; }
            .product-carousel h2 { font-size: 1.5rem; margin-bottom: 25px; }
            .footer-container { grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 25px; }
            .main-footer { padding-top: 40px; }
        }

        @media (max-width: 480px) {
            /* Ajustes do Header Novo */
            .header-logo img { height: 35px; }
            .action-item svg.icon { width: 24px; height: 24px; }
             .header-actions { gap: 15px; }

            /* Ajustes do Slider Novo */
            .slider-container { height: 250px; }
            .nav-btn { width: 30px; height: 30px; padding: 6px; }
            .nav-btn span { width: 8px; height: 8px; border-width: 0 2px 2px 0;}
            .prev-btn { left: 10px; } .next-btn { right: 10px; }
             @media (min-width: calc(var(--content-max-width) + 60px)) { /* Reset das setas */
                 .prev-btn { left: 10px; }
                 .next-btn { right: 10px; }
            }
            .pagination { bottom: 10px; gap: 8px; }
            .dot { width: 15px; height: 5px; } .dot.active { width: 25px; }

            /* Ajustes Mantidos (Produtos, Carrinho, Footer) */
            .product-card { width: calc((100% / 1.5) - 16px); }
            .product-arrow { display: none; } /* Esconde setas do produto */
            .product-slider-container { padding: 0 10px; }
            .side-cart { width: 90%; }
            .cart-header h3 { font-size: 1.1rem; }
            .cart-footer-buttons .btn { padding: 10px; font-size: 0.9rem;}
            .cart-footer, .cart-content { padding: 15px; }
            .footer-container { grid-template-columns: 1fr; text-align: center;}
            .footer-socials { justify-content: center; }
            .newsletter-form { justify-content: center;}
        }

    </style>
</head>
<body>
    <!-- SVG Icons Definition (Mantido do original) -->
    <svg width="0" height="0" style="position:absolute"><defs>
        <symbol viewBox="0 0 24 24" id="icon-search"><path fill="currentColor" d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5A6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5S14 7.01 14 9.5S11.99 14 9.5 14z"/></symbol>
        <symbol viewBox="0 0 24 24" id="icon-location"><path fill="currentColor" d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></symbol>
        <symbol viewBox="0 0 24 24" id="icon-bag"><path fill="currentColor" d="M18 6h-2c0-2.21-1.79-4-4-4S8 3.79 8 6H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-6-2c1.1 0 2 .9 2 2h-4c0-1.1.9-2 2-2zm6 16H6V8h2v2c0 .55.45 1 1 1s1-.45 1-1V8h4v2c0 .55.45 1 1 1s1-.45 1-1V8h2v12z"/></symbol>
        <symbol viewBox="0 0 24 24" id="icon-user"><path fill="currentColor" d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></symbol>
        <symbol viewBox="0 0 24 24" id="icon-heart"><path fill="currentColor" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></symbol>
        <symbol viewBox="0 0 24 24" id="icon-chevron-left"><path fill="currentColor" d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></symbol>
        <symbol viewBox="0 0 24 24" id="icon-chevron-right"><path fill="currentColor" d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></symbol>
        <symbol viewBox="0 0 24 24" id="icon-close"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></symbol>
        <symbol viewBox="0 0 24 24" id="icon-star"><path fill="currentColor" d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></symbol>
        <symbol viewBox="0 0 24 24" id="icon-star-outline"><path fill="currentColor" d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"/></symbol>
        <symbol viewBox="0 0 24 24" id="icon-placeholder-image"><path fill="currentColor" d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/></symbol>
        <symbol viewBox="0 0 24 24" id="icon-facebook"><path fill="currentColor" d="M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.36 9.5 5.32v2.14H6.17v4.14h3.33V23.5h4.17V11.6h3.8l.44-4.14z"/></symbol>
        <symbol viewBox="0 0 24 24" id="icon-instagram"><path fill="currentColor" d="M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2zm-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8c1.99 0 3.6-1.61 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6zm9.65 1.5a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5zM12 7a5 5 0 1 1 0 10 5 5 0 0 1 0-10zm0 2a3 3 0 1 0 0 6 3 3 0 0 0 0-6z"/></symbol>
        <symbol viewBox="0 0 24 24" id="icon-whatsapp"><path fill="currentColor" d="M19.08 4.91A9.86 9.86 0 0 0 12.04 2c-5.46 0-9.91 4.45-9.91 9.91 0 1.75.46 3.45 1.32 4.95L2 22l5.25-1.38c1.45.79 3.08 1.21 4.79 1.21h.01c5.46 0 9.91-4.45 9.91-9.91 0-2.73-1.09-5.19-2.92-7.01zm-7.04 15.11c-1.57 0-3.05-.4-4.33-1.15l-.31-.18l-3.21.84l.86-3.12l-.2-.32a8.01 8.01 0 0 1-1.29-4.48c0-4.42 3.6-8.02 8.03-8.02c2.15 0 4.16.84 5.67 2.36c1.52 1.51 2.36 3.52 2.36 5.67c0 4.42-3.6 8.02-8.02 8.02zm4.4-6.38c-.22-.11-.64-.31-1.3-.6c-.11-.05-.2-.08-.29-.08c-.18 0-.35.05-.49.28c-.14.23-.53.67-.65.81c-.12.14-.24.16-.44.05c-.2-.11-1.03-.38-1.96-1.21c-.72-.65-1.2-1.45-1.34-1.7s-.1-.38-.01-.52c.09-.12.2-.31.3-.41c.1-.11.13-.18.2-.31c.06-.13.03-.24-.02-.34c-.05-.1-.44-1.06-.6-1.45c-.16-.39-.32-.34-.44-.34c-.11 0-.24 0-.36 0c-.12 0-.31.05-.47.28c-.16.23-.61.75-.61 1.81c0 1.06.62 2.1.71 2.24c.09.14 1.23 1.87 3 2.62c.42.18.76.29 1.03.37c.5.15.95.13 1.3.08c.4-.05.64-.31.86-.6c.22-.29.22-.54.15-.6z"/></symbol>
    </defs></svg>

    <!-- NOVO HEADER (Integrado) -->
    <header class="site-header">
        <div class="header-top-bar">
             <div class="container">
                 <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M352 256c0 22.2-1.2 43.6-3.3 64H163.3c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6 3.3-64H348.7c2.2 20.4 3.3 41.8 3.3 64zm28.8-64H503.9c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64H380.8c2.1-20.6 3.2-42 3.2-64s-1.1-43.4-3.2-64zm112.6-32H376.7c-10-63.9-29.8-117.4-55.3-151.6c78.3 20.7 142 77.5 171.9 151.6zm-149.1 0H167.7c6.1-36.4 15.5-68.6 27-94.7c10.5-23.6 22.2-40.7 33.5-51.5C239.4 3.2 248.7 0 256 0s16.6 3.2 27.8 13.8c11.3 10.8 23 27.9 33.5 51.5c11.6 26 21 58.2 27 94.7zm-209 0H18.6C48.6 85.9 112.2 29.1 190.6 8.4C165.1 42.6 145.3 96.1 135.3 160zM8.1 192H131.2c-2.1 20.6-3.2 42-3.2 64s1.1 43.4 3.2 64H8.1C2.8 299.5 0 278.1 0 256s2.8-43.5 8.1-64zM190.6 499.6c78.3-20.7 142-77.5 171.9-151.6H190.6c-10 63.9-29.8 117.4-55.3 151.6zm160.2 0c-25.5-34.2-45.3-87.7-55.3-151.6H438.6C408.7 422.1 345.1 478.9 266.7 499.6z"/></svg>
                 <span>Você está acessando a plataforma através do parceiro oficial 00001</span>
             </div>
        </div>
        <div class="header-main">
            <div class="container">
                <a href="/" class="header-logo" aria-label="Beautyencers Home">
                    <img src="https://raw.githubusercontent.com/mktpaul/encers/main/logo.svg" alt="Beautyencers Logo">
                </a>
                <div class="header-search">
                    <form action="/search" method="get" class="search-form">
                        <input type="search" name="q" placeholder="Olá, o que procura hoje? :)" class="search-input" aria-label="Search">
                        <button type="submit" class="search-button" aria-label="Submit Search">
                            <!-- COMENTÁRIO DE MESCLAGEM: Usando SVG inline aqui, mas poderia usar <use> se preferir -->
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/></svg>
                        </button>
                    </form>
                </div>
                <div class="header-actions">
                    <!-- COMENTÁRIO DE MESCLAGEM: Link da Conta (mantém SVG inline do novo) -->
                    <a href="/account" class="action-item">
                         <svg class="arrow-down" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"/></svg>
                         <div class="action-text">
                             <strong>Minha Conta</strong>
                             <span>FAÇA LOGIN</span>
                         </div>
                         <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"/></svg>
                    </a>
                    <!-- COMENTÁRIO DE MESCLAGEM: Link da Localização (mantém SVG inline do novo) -->
                     <a href="/location" class="action-item">
                         <svg class="arrow-down" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"/></svg>
                         <div class="action-text">
                             <strong>Localização</strong>
                             <span>DIGITE SEU CEP</span>
                         </div>
                         <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="currentColor" d="M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"/></svg>
                    </a>
                    <!-- COMENTÁRIO DE MESCLAGEM: Link da Sacola. Adicionada classe 'cart-button' e span '#cart-item-count-badge' para funcionar com o JS existente -->
                     <a href="/cart" class="action-item cart-button" aria-label="Abrir sacola de compras">
                         <svg class="arrow-down" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"/></svg>
                         <div class="action-text">
                             <strong>Sacola</strong>
                             <!-- O span com o ID do badge foi adicionado aqui -->
                             <span>SEUS PRODUTOS</span>
                         </div>
                         <!-- Ícone da sacola (usando SVG inline do novo) -->
                         <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M160 112c0-35.3 28.7-64 64-64s64 28.7 64 64v48H160V112zm-48 48H48c-26.5 0-48 21.5-48 48V416c0 53 43 96 96 96H352c53 0 96-43 96-96V208c0-26.5-21.5-48-48-48H336V112C336 50.1 285.9 0 224 0S112 50.1 112 112v48zm24 48a24 24 0 1 1 0 48 24 24 0 1 1 0-48zm152 0a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"/></svg>
                         <!-- O span do contador vai aqui, posicionado por CSS -->
                         <span id="cart-item-count-badge" class="cart-item-count">0</span>
                    </a>
                </div>
            </div>
        </div>
        <nav class="header-nav">
            <div class="container">
                <!-- COMENTÁRIO DE MESCLAGEM: Navegação do novo header -->
                <ul class="nav-list">
                    <li class="nav-item"><a href="/shampoo">Shampoo</a></li>
                    <li class="nav-item"><a href="/condicionador">Condicionador</a></li>
                    <li class="nav-item"><a href="/mascaras">Máscaras</a></li>
                    <li class="nav-item"><a href="/leave-in">Leave-In</a></li>
                    <li class="nav-item"><a href="/alisante">Alisante</a></li>
                    <li class="nav-item"><a href="/bb-cream">BB Cream</a></li>
                    <li class="nav-item"><a href="/tinturas">Tinturas</a></li>
                    <li class="nav-item"><a href="/oxidantes">Oxidantes</a></li>
                    <li class="nav-item"><a href="/beautyblog">BeautyBlog</a></li>
                    <!-- Adicione mais itens se necessário -->
                </ul>
            </div>
        </nav>
    </header>

    <!-- COMENTÁRIO DE MESCLAGEM: A tag <main> agora engloba o conteúdo principal, incluindo o banner e o carrossel de produtos -->
    <main class="site-content">

        <!-- NOVO SLIDER (Integrado) -->
        <div class="slider-container">
            <div class="slider-wrapper">
                <!-- Slides Originais com as Imagens -->
                <div class="slide">
                    <img src="https://cdn.awsli.com.br/1920x1920/1817/1817837/banner/intensivel-oil-30ml---banner-site-kr6100trd0.jpg" alt="Banner Intensivel Oil">
                </div>
                <div class="slide">
                     <img src="https://cdn.awsli.com.br/1920x1920/1817/1817837/banner/magic-coat-banner-site2-n4ptkoe4au.jpg" alt="Banner Magic Coat">
                </div>
                <div class="slide">
                    <img src="https://cdn.awsli.com.br/1920x1920/1817/1817837/banner/traditional-paul-novo-tamanho---banner-site-num620vyo8.png" alt="Banner Traditional Paul">
                </div>
                <!-- Clone do primeiro slide será adicionado aqui pelo JS -->
            </div>
            <button class="nav-btn prev-btn" aria-label="Previous Slide"><span></span></button>
            <button class="nav-btn next-btn" aria-label="Next Slide"><span></span></button>
            <div class="pagination">
                <!-- Pontos serão gerados pelo JavaScript -->
            </div>
        </div>
        <!-- FIM DO NOVO SLIDER -->

        <!-- Placeholder Section (Mantido do original) -->
        <section class="placeholder-section container">
            <div class="placeholder-box">Ofertas Especiais</div>
            <div class="placeholder-box">Mais Vendidos</div>
            <div class="placeholder-box">Novidades</div>
            <div class="placeholder-box">Kits</div>
            <div class="placeholder-box">Acessórios</div>
            <div class="placeholder-box">Outlet</div>
        </section>

        <!-- Product Carousel Section (Mantido do original) -->
        <section class="product-carousel">
            <h2>CONHEÇA OS PRODUTOS MAIS VENDIDOS</h2>
            <div class="product-slider-container">
                <div class="product-slider-wrapper">
                     <div class="product-slider">
                        <!-- Produtos (Mantidos exatamente como no original) -->
                        <div class="product-card" data-product-id="P1" data-product-name="Shampoo Intensive 300ml" data-product-price="57.95"><div class="product-image-container"><svg class="placeholder-svg" viewBox="0 0 100 100"><use xlink:href="#icon-placeholder-image"></use></svg></div><div class="icons"><button class="icon-button" aria-label="Adicionar aos favoritos"><svg class="icon"><use xlink:href="#icon-heart"></use></svg></button></div><div class="rating"><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star-outline"></use></svg></div><h3>MACPAUL PROFESSIONAL</h3><p class="product-subname">Shampoo Intensive 300ml para cabelos secos</p><div class="price"><span class="original-price">R$ 69,90</span><span class="current-price">R$ 57,95</span><span class="pix-label">no PIX</span></div><p class="installments">ou 3x de R$ 20,33</p><button class="add-to-cart-btn">Comprar</button></div>
                        <div class="product-card" data-product-id="P2" data-product-name="Condicionador Hidratante" data-product-price="59.90"><div class="product-image-container"><svg class="placeholder-svg" viewBox="0 0 100 100"><use xlink:href="#icon-placeholder-image"></use></svg></div><div class="icons"><button class="icon-button" aria-label="Adicionar aos favoritos"><svg class="icon"><use xlink:href="#icon-heart"></use></svg></button></div><div class="rating"><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star-outline"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star-outline"></use></svg></div><h3>MARCA EXEMPLO</h3><p class="product-subname">Condicionador Hidratante Profundo 250ml</p><div class="price"><span class="original-price">R$ 72,50</span><span class="current-price">R$ 59,90</span><span class="pix-label">no PIX</span></div><p class="installments">ou 3x de R$ 20,99</p><button class="add-to-cart-btn">Comprar</button></div>
                        <div class="product-card" data-product-id="P3" data-product-name="Máscara Reparadora" data-product-price="70.00"><div class="product-image-container"><svg class="placeholder-svg" viewBox="0 0 100 100"><use xlink:href="#icon-placeholder-image"></use></svg></div><div class="icons"><button class="icon-button" aria-label="Adicionar aos favoritos"><svg class="icon"><use xlink:href="#icon-heart"></use></svg></button></div><div class="rating"><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg></div><h3>OUTRA MARCA</h3><p class="product-subname">Máscara Reparadora Intensiva Power Repair 200g</p><div class="price"><span class="original-price">R$ 85,00</span><span class="current-price">R$ 70,00</span><span class="pix-label">no PIX</span></div><p class="installments">ou 3x de R$ 24,50</p><button class="add-to-cart-btn">Comprar</button></div>
                        <div class="product-card" data-product-id="P4" data-product-name="Leave-in Protetor" data-product-price="45.90"><div class="product-image-container"><svg class="placeholder-svg" viewBox="0 0 100 100"><use xlink:href="#icon-placeholder-image"></use></svg></div><div class="icons"><button class="icon-button" aria-label="Adicionar aos favoritos"><svg class="icon"><use xlink:href="#icon-heart"></use></svg></button></div><div class="rating"><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star-outline"></use></svg></div><h3>MACPAUL PROFESSIONAL</h3><p class="product-subname">Leave-in Protetor Térmico Daily Use 150ml</p><div class="price"><span class="original-price">R$ 55,90</span><span class="current-price">R$ 45,90</span><span class="pix-label">no PIX</span></div><p class="installments">ou 3x de R$ 16,07</p><button class="add-to-cart-btn">Comprar</button></div>
                        <div class="product-card" data-product-id="P5" data-product-name="Óleo Finalizador Argan" data-product-price="75.50"><div class="product-image-container"><svg class="placeholder-svg" viewBox="0 0 100 100"><use xlink:href="#icon-placeholder-image"></use></svg></div><div class="icons"><button class="icon-button" aria-label="Adicionar aos favoritos"><svg class="icon"><use xlink:href="#icon-heart"></use></svg></button></div><div class="rating"><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star-outline"></use></svg></div><h3>BEAUTY HAIR</h3><p class="product-subname">Óleo Finalizador Argan Shine Multibenefícios 60ml</p><div class="price"><span class="original-price">R$ 90,00</span><span class="current-price">R$ 75,50</span><span class="pix-label">no PIX</span></div><p class="installments">ou 3x de R$ 26,43</p><button class="add-to-cart-btn">Comprar</button></div>
                        <div class="product-card" data-product-id="P6" data-product-name="Shampoo Nutritivo" data-product-price="56.00"><div class="product-image-container"><svg class="placeholder-svg" viewBox="0 0 100 100"><use xlink:href="#icon-placeholder-image"></use></svg></div><div class="icons"><button class="icon-button" aria-label="Adicionar aos favoritos"><svg class="icon"><use xlink:href="#icon-heart"></use></svg></button></div><div class="rating"><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg></div><h3>PRO LINE</h3><p class="product-subname">Shampoo Nutritivo Power Strength 300ml</p><div class="price"><span class="original-price">R$ 68,00</span><span class="current-price">R$ 56,00</span><span class="pix-label">no PIX</span></div><p class="installments">ou 3x de R$ 19,60</p><button class="add-to-cart-btn">Comprar</button></div>
                        <div class="product-card" data-product-id="P7" data-product-name="Condicionador Nutritivo" data-product-price="58.00"><div class="product-image-container"><svg class="placeholder-svg" viewBox="0 0 100 100"><use xlink:href="#icon-placeholder-image"></use></svg></div><div class="icons"><button class="icon-button" aria-label="Adicionar aos favoritos"><svg class="icon"><use xlink:href="#icon-heart"></use></svg></button></div><div class="rating"><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star-outline"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star-outline"></use></svg></div><h3>MACPAUL PROFESSIONAL</h3><p class="product-subname">Condicionador Nutritivo Power Strength 250ml</p><div class="price"><span class="original-price">R$ 70,00</span><span class="current-price">R$ 58,00</span><span class="pix-label">no PIX</span></div><p class="installments">ou 3x de R$ 20,30</p><button class="add-to-cart-btn">Comprar</button></div>
                        <div class="product-card" data-product-id="P8" data-product-name="Máscara Nutritiva Frizz" data-product-price="68.50"><div class="product-image-container"><svg class="placeholder-svg" viewBox="0 0 100 100"><use xlink:href="#icon-placeholder-image"></use></svg></div><div class="icons"><button class="icon-button" aria-label="Adicionar aos favoritos"><svg class="icon"><use xlink:href="#icon-heart"></use></svg></button></div><div class="rating"><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg></div><h3>SALON EXPERT</h3><p class="product-subname">Máscara Nutritiva Power Strength Control Frizz 200g</p><div class="price"><span class="original-price">R$ 82,50</span><span class="current-price">R$ 68,50</span><span class="pix-label">no PIX</span></div><p class="installments">ou 3x de R$ 23,98</p><button class="add-to-cart-btn">Comprar</button></div>
                        <div class="product-card" data-product-id="P9" data-product-name="Shampoo Proteção Cor" data-product-price="60.00"><div class="product-image-container"><svg class="placeholder-svg" viewBox="0 0 100 100"><use xlink:href="#icon-placeholder-image"></use></svg></div><div class="icons"><button class="icon-button" aria-label="Adicionar aos favoritos"><svg class="icon"><use xlink:href="#icon-heart"></use></svg></button></div><div class="rating"><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star-outline"></use></svg></div><h3>MACPAUL PROFESSIONAL</h3><p class="product-subname">Shampoo Proteção da Cor Color Shield 300ml</p><div class="price"><span class="original-price">R$ 71,90</span><span class="current-price">R$ 60,00</span><span class="pix-label">no PIX</span></div><p class="installments">ou 3x de R$ 21,00</p><button class="add-to-cart-btn">Comprar</button></div>
                        <div class="product-card" data-product-id="P10" data-product-name="Condicionador Cor" data-product-price="62.00"><div class="product-image-container"><svg class="placeholder-svg" viewBox="0 0 100 100"><use xlink:href="#icon-placeholder-image"></use></svg></div><div class="icons"><button class="icon-button" aria-label="Adicionar aos favoritos"><svg class="icon"><use xlink:href="#icon-heart"></use></svg></button></div><div class="rating"><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star-outline"></use></svg><svg class="icon icon-sm"><use xlink:href="#icon-star-outline"></use></svg></div><h3>COLOR CARE</h3><p class="product-subname">Condicionador Proteção da Cor Extend Color 250ml</p><div class="price"><span class="original-price">R$ 74,00</span><span class="current-price">R$ 62,00</span><span class="pix-label">no PIX</span></div><p class="installments">ou 3x de R$ 21,70</p><button class="add-to-cart-btn">Comprar</button></div>
                     </div>
                 </div>
                <button class="product-arrow prev" aria-label="Produtos anteriores"> <svg class="icon"><use xlink:href="#icon-chevron-left"></use></svg> </button>
                <button class="product-arrow next" aria-label="Próximos produtos"> <svg class="icon"><use xlink:href="#icon-chevron-right"></use></svg> </button>
            </div>
        </section>

        <!-- COMENTÁRIO DE MESCLAGEM: Exemplo de conteúdo que poderia vir aqui -->
        <!--
        <div class="container">
             <h1>Conteúdo Principal Adicional</h1>
             <p>Mais seções podem ser adicionadas aqui, abaixo do carrossel de produtos.</p>
        </div>
         -->

    </main> <!-- Fim de main.site-content -->

    <!-- Side Cart / Overlay (Mantidos do original) -->
    <div id="side-cart" class="side-cart"><div class="cart-header"><h3><svg class="icon"><use xlink:href="#icon-bag"></use></svg>Sua Sacola</h3><button id="close-cart-btn" class="close-cart-btn" aria-label="Fechar sacola"><svg class="icon"><use xlink:href="#icon-close"></use></svg></button></div><div class="cart-content"><div id="cart-items-list"></div><p id="empty-cart-message">Sua sacola está vazia.</p></div><div class="cart-footer"><div class="subtotal"><span>Subtotal:</span><span id="cart-subtotal">R$ 0,00</span></div><div class="cart-footer-buttons"><button id="checkout-btn-footer" class="btn">Finalizar Compra</button><button id="continue-shopping-btn" class="btn">Continuar Comprando</button></div></div></div>
    <div id="overlay" class="overlay"></div>

    <!-- Footer (Mantido do original) -->
    <footer class="main-footer"><div class="container footer-container"><div class="footer-column"><h4>Institucional</h4><ul><li><a href="#">Sobre a Beautyencers</a></li><li><a href="#">Política de Privacidade</a></li><li><a href="#">Termos de Uso</a></li><li><a href="#">Trabalhe Conosco</a></li><li><a href="#">Nossas Lojas</a></li></ul></div><div class="footer-column"><h4>Atendimento</h4><ul><li><a href="#">Central de Ajuda (FAQ)</a></li><li><a href="#">Como Comprar</a></li><li><a href="#">Trocas e Devoluções</a></li><li><a href="#">Política de Entrega</a></li><li><a href="#">Fale Conosco</a></li></ul></div><div class="footer-column"><h4>Minha Conta</h4><ul><li><a href="#">Meus Pedidos</a></li><li><a href="#">Meu Cadastro</a></li><li><a href="#">Meus Favoritos</a></li><li><a href="#">Esqueci minha Senha</a></li></ul><h4>Redes Sociais</h4><div class="footer-socials"><a href="#" aria-label="Facebook"><svg class="icon"><use xlink:href="#icon-facebook"></use></svg></a><a href="#" aria-label="Instagram"><svg class="icon"><use xlink:href="#icon-instagram"></use></svg></a><a href="#" aria-label="Whatsapp"><svg class="icon"><use xlink:href="#icon-whatsapp"></use></svg></a></div></div><div class="footer-column footer-newsletter"><h4>Receba Novidades</h4><p>Cadastre-se e fique por dentro das nossas promoções e lançamentos!</p><form class="newsletter-form"><input type="email" placeholder="Digite seu e-mail" required><button type="submit">Cadastrar</button></form></div></div><div class="container footer-bottom"><div><img src="https://via.placeholder.com/50x30/ffffff/cccccc?text=Visa" alt="Visa"><img src="https://via.placeholder.com/50x30/ffffff/cccccc?text=Master" alt="Mastercard"><img src="https://via.placeholder.com/50x30/ffffff/cccccc?text=Pix" alt="Pix"><img src="https://via.placeholder.com/50x30/ffffff/cccccc?text=Boleto" alt="Boleto"></div><p>© 2024 Beautyencers. Todos os direitos reservados. CNPJ 00.000.000/0001-00</p><p>Endereço Fictício da Loja, 123 - Bairro Exemplo, Cidade-UF - CEP 00000-000</p></div></footer>

    <script>
        // COMENTÁRIO DE MESCLAGEM: Todo o JS foi colocado dentro de um único DOMContentLoaded
        document.addEventListener('DOMContentLoaded', () => {

            // --- Script para ajustar padding do body (Do NOVO header) ---
            const siteHeader = document.querySelector('.site-header');
            if (siteHeader) { // Verifica se o header existe
                const updateBodyPadding = () => {
                    const headerHeight = siteHeader.offsetHeight;
                    document.body.style.paddingTop = `${headerHeight}px`;
                    document.documentElement.style.setProperty('--header-height', `${headerHeight}px`);
                };

                updateBodyPadding();
                if ('ResizeObserver' in window) {
                    new ResizeObserver(updateBodyPadding).observe(siteHeader);
                } else {
                    window.addEventListener('resize', updateBodyPadding);
                }
            } else {
                console.warn("Elemento '.site-header' não encontrado para ajuste de padding.");
            }

            // --- Script do NOVO Slider (Integrado) ---
            const sliderContainer = document.querySelector('.slider-container');
            if (sliderContainer) { // Verifica se o slider existe
                const sliderWrapper = sliderContainer.querySelector('.slider-wrapper');
                let slides = sliderContainer.querySelectorAll('.slide'); // NodeList inicial
                const prevBtn = sliderContainer.querySelector('.prev-btn');
                const nextBtn = sliderContainer.querySelector('.next-btn');
                const paginationContainer = sliderContainer.querySelector('.pagination');

                if (sliderWrapper && slides.length > 0 && prevBtn && nextBtn && paginationContainer) {
                    let currentIndex = 0;
                    const actualTotalSlides = slides.length;
                    let dots = [];
                    let isTransitioning = false;
                    const transitionTime = 500;
                    const transitionCSS = `transform ${transitionTime / 1000}s ease-in-out`;

                    // Clona o primeiro slide
                    const firstClone = slides[0].cloneNode(true);
                    firstClone.setAttribute('aria-hidden', 'true');
                    sliderWrapper.appendChild(firstClone);
                    slides = sliderContainer.querySelectorAll('.slide'); // Atualiza NodeList

                    // Configuração Inicial
                    sliderWrapper.style.transform = `translateX(0%)`;
                    sliderWrapper.style.transition = transitionCSS;

                    // Funções Auxiliares
                    function updateDots(index) {
                        dots.forEach((dot, i) => {
                            dot.classList.toggle('active', i === index);
                        });
                    }

                    function moveToSlide(index) {
                        if (isTransitioning) return;
                        if (index < 0) index = actualTotalSlides - 1;
                        else if (index >= actualTotalSlides) index = 0;

                        sliderWrapper.style.transition = transitionCSS;
                        const offset = -index * 100;
                        sliderWrapper.style.transform = `translateX(${offset}%)`;
                        currentIndex = index;
                        updateDots(currentIndex);
                    }

                    // Cria Paginação
                    function createPaginationDots() {
                        for (let i = 0; i < actualTotalSlides; i++) {
                            const dot = document.createElement('span');
                            dot.classList.add('dot');
                            dot.setAttribute('aria-label', `Ir para o slide ${i + 1}`);
                            dot.addEventListener('click', () => { moveToSlide(i); });
                            paginationContainer.appendChild(dot);
                            dots.push(dot);
                        }
                    }

                    // Event Listeners Setas
                    nextBtn.addEventListener('click', () => {
                        if (isTransitioning) return;
                        currentIndex++;
                        sliderWrapper.style.transition = transitionCSS;
                        sliderWrapper.style.transform = `translateX(-${currentIndex * 100}%)`;
                        updateDots(currentIndex === actualTotalSlides ? 0 : currentIndex);

                        if (currentIndex === actualTotalSlides) {
                            isTransitioning = true;
                            setTimeout(() => {
                                sliderWrapper.style.transition = 'none';
                                currentIndex = 0;
                                sliderWrapper.style.transform = `translateX(0%)`;
                                updateDots(currentIndex);
                                setTimeout(() => {
                                    sliderWrapper.style.transition = transitionCSS;
                                    isTransitioning = false;
                                }, 50);
                            }, transitionTime);
                        }
                    });

                    prevBtn.addEventListener('click', () => {
                        if (isTransitioning) return;
                        sliderWrapper.style.transition = transitionCSS;
                        if (currentIndex === 0) {
                            isTransitioning = true;
                            sliderWrapper.style.transition = 'none';
                            currentIndex = actualTotalSlides;
                            sliderWrapper.style.transform = `translateX(-${currentIndex * 100}%)`;
                            setTimeout(() => {
                                sliderWrapper.style.transition = transitionCSS;
                                currentIndex--;
                                sliderWrapper.style.transform = `translateX(-${currentIndex * 100}%)`;
                                updateDots(currentIndex);
                                isTransitioning = false;
                             }, 50);
                        } else {
                            currentIndex--;
                            const offset = -currentIndex * 100;
                            sliderWrapper.style.transform = `translateX(${offset}%)`;
                            updateDots(currentIndex);
                        }
                    });

                    // Inicialização
                    createPaginationDots();
                    updateDots(currentIndex);

                    // Resize (Opcional)
                    let resizeTimerSlider;
                    window.addEventListener('resize', () => {
                        clearTimeout(resizeTimerSlider);
                        resizeTimerSlider = setTimeout(() => {
                             console.log('Verificando slider no resize');
                             const currentOffset = -currentIndex * 100;
                             sliderWrapper.style.transition = 'none';
                             sliderWrapper.style.transform = `translateX(${currentOffset}%)`;
                             setTimeout(() => { sliderWrapper.style.transition = transitionCSS; }, 50);
                        }, 250);
                    });

                } else {
                    console.warn("Não foi possível inicializar o novo slider. Elementos internos não encontrados.");
                    sliderContainer.style.display = 'none'; // Esconde se falhar
                }
            } else {
                 console.log("Elemento '.slider-container' não encontrado na página.");
            }
            // --- Fim do Script do NOVO Slider ---


            // --- Product Slider (Mantido do original, com verificações) ---
            const productSliderWrapper = document.querySelector('.product-slider-wrapper');
            const productSlider = document.querySelector('.product-slider');
            const productPrevBtn = document.querySelector('.product-carousel .prev');
            const productNextBtn = document.querySelector('.product-carousel .next');

            if (productSliderWrapper && productSlider && productPrevBtn && productNextBtn) { // Verifica elementos
                let itemsToClone = 5;
                let itemWidth = 0;
                let clonesPrependedWidth = 0;
                let currentTranslateX = 0;
                let isProductDragging = false;
                let productStartPos = 0;
                let currentProductDragTranslate = 0;
                let productAnimationID = 0;
                let isProductArrowTransitioning = false;

                function calculateProductItemWidth() {
                    const currentItems = Array.from(productSlider.querySelectorAll('.product-card:not(.clone)'));
                    if (currentItems.length > 0) {
                        const firstCard = currentItems[0];
                        const style = window.getComputedStyle(firstCard);
                        itemWidth = firstCard.offsetWidth + parseFloat(style.marginLeft) + parseFloat(style.marginRight);
                        return itemWidth > 0;
                    }
                    return false;
                }

                function setupInfiniteProductSlider() {
                    productSlider.style.transition = 'none';
                    productSlider.querySelectorAll('.clone').forEach(clone => clone.remove());

                    const currentOriginals = Array.from(productSlider.querySelectorAll('.product-card:not(.clone)'));
                    const currentOriginalsCount = currentOriginals.length;
                    if (currentOriginalsCount === 0 || !calculateProductItemWidth()) {
                        console.warn("Não foi possível calcular a largura do item do carrossel de produtos ou não há itens.");
                        return; // Impede a execução se não houver itens ou largura
                    }

                    itemsToClone = Math.min(currentOriginalsCount, 5);

                    // Cloning
                    for (let i = 0; i < itemsToClone; i++) {
                        const indexToClone = (currentOriginalsCount - 1 - i + currentOriginalsCount) % currentOriginalsCount;
                        const clone = currentOriginals[indexToClone].cloneNode(true);
                        clone.classList.add('clone');
                        productSlider.insertBefore(clone, productSlider.firstChild);
                    }
                    for (let i = 0; i < itemsToClone; i++) {
                        const indexToClone = i % currentOriginalsCount;
                        const clone = currentOriginals[indexToClone].cloneNode(true);
                        clone.classList.add('clone');
                        productSlider.appendChild(clone);
                    }

                    clonesPrependedWidth = itemsToClone * itemWidth;
                    currentTranslateX = -clonesPrependedWidth;
                    setProductPosition();
                }

                function setProductPosition() { productSlider.style.transform = `translateX(${currentTranslateX}px)`; }

                function performProductResetIfNeeded(){
                    const currentOriginalsCount = productSlider.querySelectorAll('.product-card:not(.clone)').length;
                    if (currentOriginalsCount === 0 || itemWidth === 0) return false;

                    const endOfOriginalContent = -(clonesPrependedWidth + currentOriginalsCount * itemWidth);
                    let needsReset = false;

                    if (currentTranslateX <= endOfOriginalContent) {
                        currentTranslateX += currentOriginalsCount * itemWidth; needsReset = true;
                    } else if (currentTranslateX > -clonesPrependedWidth) {
                        currentTranslateX -= currentOriginalsCount * itemWidth; needsReset = true;
                    }

                    if(needsReset) {
                        productSlider.style.transition = 'none';
                        setProductPosition();
                        void productSlider.offsetWidth; // Force reflow
                    }
                    return needsReset;
                 }

                function slideProduct(direction) {
                    if (isProductArrowTransitioning || itemWidth <= 0) return;
                    isProductArrowTransitioning = true;
                    const transitionDuration = parseFloat(getComputedStyle(productSlider).getPropertyValue('--transition-smooth') || '0.5') * 1000;

                    productSlider.style.transition = `transform ${transitionDuration / 1000}s ease`;
                    currentTranslateX -= direction * itemWidth;
                    setProductPosition();

                    setTimeout(() => {
                        performProductResetIfNeeded();
                        isProductArrowTransitioning = false;
                    }, transitionDuration + 50); // Aumentado buffer
                 }

                 // Drag Logic (Mantido)
                 function getPositionX(event) { return event.type.includes('mouse') ? event.pageX : event.touches[0].clientX; }
                 function productDragStart(event) {
                     if (isProductArrowTransitioning || (event.type.includes('mouse') && event.button !== 0)) return; // Ignore right clicks
                     isProductDragging = true; productStartPos = getPositionX(event); currentProductDragTranslate = currentTranslateX;
                     productSliderWrapper.classList.add('grabbing'); productSlider.style.transition = 'none';
                     productAnimationID = requestAnimationFrame(productAnimation);
                 }
                 function productDragMove(event) {
                     if (!isProductDragging) return;
                     const currentPosition = getPositionX(event); const diff = currentPosition - productStartPos;
                     currentTranslateX = currentProductDragTranslate + diff;
                 }
                 function productDragEnd() {
                     if (!isProductDragging) return; isProductDragging = false;
                     cancelAnimationFrame(productAnimationID); productSliderWrapper.classList.remove('grabbing');

                     // Snap logic (opcional, mas melhora a experiência)
                     const movedBy = currentTranslateX - currentProductDragTranslate;
                     const direction = movedBy < 0 ? 1 : -1;
                     const threshold = itemWidth / 4; // Move se arrastar mais que 1/4 do item

                     if (Math.abs(movedBy) > threshold) {
                        // Move para o próximo item na direção do arraste
                        const itemsToMove = Math.round(Math.abs(movedBy) / itemWidth) || 1;
                        currentTranslateX = currentProductDragTranslate - (direction * itemsToMove * itemWidth);
                     } else {
                         // Volta para a posição original se arrastar pouco
                         currentTranslateX = currentProductDragTranslate;
                     }

                     productSlider.style.transition = `transform var(--transition-speed) ease`; // Animação suave para o snap
                     setProductPosition();
                     setTimeout(() => {
                         performProductResetIfNeeded(); // Check/reset após o snap
                         // productSlider.style.transition = 'none'; // Remove a transição após o snap, se necessário
                     }, parseFloat(getComputedStyle(productSlider).getPropertyValue('--transition-speed') || '0.3') * 1000 + 50);
                 }
                 function productAnimation() { if (isProductDragging) { setProductPosition(); requestAnimationFrame(productAnimation); } }

                 // Event Listeners Drag
                 productSliderWrapper.addEventListener('mousedown', productDragStart);
                 productSliderWrapper.addEventListener('touchstart', productDragStart, { passive: true });
                 productSliderWrapper.addEventListener('mousemove', productDragMove);
                 productSliderWrapper.addEventListener('touchmove', productDragMove, { passive: true });
                 productSliderWrapper.addEventListener('mouseup', productDragEnd);
                 productSliderWrapper.addEventListener('mouseleave', productDragEnd);
                 productSliderWrapper.addEventListener('touchend', productDragEnd);
                 productSliderWrapper.addEventListener('touchcancel', productDragEnd);

                 // Arrow Button Listeners
                 productPrevBtn.addEventListener('click', () => slideProduct(-1));
                 productNextBtn.addEventListener('click', () => slideProduct(1));

                 // Initialization
                 setupInfiniteProductSlider(); // Chama a configuração
                 window.addEventListener('resize', () => {
                     // Adiciona um debounce simples para evitar recalcular muitas vezes
                     clearTimeout(window.productResizeTimer);
                     window.productResizeTimer = setTimeout(setupInfiniteProductSlider, 250);
                 });

             } else {
                 console.warn("Elementos do carrossel de produtos não encontrados. Funcionalidade desativada.");
             }
            // --- Fim do Product Slider ---


            // --- Side Cart & Add to Cart Simulation (Mantido e Integrado) ---
            // COMENTÁRIO DE MESCLAGEM: Seleciona o botão da sacola pela classe '.cart-button' adicionada ao link no novo header
            const cartButton = document.querySelector('.cart-button');
            const sideCart = document.getElementById('side-cart');
            const closeCartBtn = document.getElementById('close-cart-btn');
            const overlay = document.getElementById('overlay');
            // COMENTÁRIO DE MESCLAGEM: Seleciona o badge pelo ID adicionado ao span no novo header
            const cartBadge = document.getElementById('cart-item-count-badge');
            const cartItemsList = document.getElementById('cart-items-list');
            const emptyCartMessage = document.getElementById('empty-cart-message');
            const cartSubtotalElement = document.getElementById('cart-subtotal');
            const continueShoppingBtn = document.getElementById('continue-shopping-btn');
            let cartItemCount = 0; let cartSubtotal = 0.00;

            const openCart = (event) => {
                // COMENTÁRIO DE MESCLAGEM: Previne a navegação padrão do link da sacola
                if (event) event.preventDefault();
                sideCart.classList.add('open');
                overlay.classList.add('active');
                document.body.style.overflow = 'hidden'; // Impede scroll do body
            };
            const closeCart = () => {
                sideCart.classList.remove('open');
                overlay.classList.remove('active');
                document.body.style.overflow = ''; // Restaura scroll do body
            };
            function formatCurrency(value) { return value.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' }); }
            function updateCartView() {
                 if (!cartBadge || !emptyCartMessage || !cartSubtotalElement) return; // Verifica se elementos existem
                 cartBadge.textContent = cartItemCount;
                 cartBadge.classList.toggle('visible', cartItemCount > 0);
                 emptyCartMessage.classList.toggle('hidden', cartItemCount > 0);
                 cartSubtotalElement.textContent = formatCurrency(cartSubtotal);
             }
            function addToCart(productData) {
                cartItemCount++;
                cartSubtotal += parseFloat(productData.price);
                // COMENTÁRIO DE MESCLAGEM: Usa o ID do produto para gerar um placeholder único
                const placeholderImgSrc = `https://via.placeholder.com/60x60/f1f3f5/adb5bd?text=${productData.id.substring(0, 3)}`; // Usa parte do ID
                const cartItemHTML = `
                    <div class="cart-item" data-id="${productData.id}">
                        <img src="${placeholderImgSrc}" alt="${productData.name}">
                        <div class="cart-item-details">
                            <h4>${productData.name}</h4>
                            <div class="price">${formatCurrency(parseFloat(productData.price))}</div>
                        </div>
                        <!-- Adicionar botão de remover aqui se necessário -->
                    </div>`;
                if (cartItemsList) cartItemsList.insertAdjacentHTML('beforeend', cartItemHTML);
                updateCartView();
                openCart(); // Abre o carrinho ao adicionar
            }

            // Verifica se os elementos essenciais do carrinho existem antes de adicionar listeners
            if (cartButton && sideCart && closeCartBtn && overlay && continueShoppingBtn && cartBadge && cartItemsList && emptyCartMessage && cartSubtotalElement) {
                cartButton.addEventListener('click', openCart); // Listener no botão/link do header
                closeCartBtn.addEventListener('click', closeCart);
                overlay.addEventListener('click', closeCart);
                continueShoppingBtn.addEventListener('click', closeCart);
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape' && sideCart.classList.contains('open')) {
                        closeCart();
                    }
                });

                // Listener para adicionar ao carrinho (no container do carrossel de produtos)
                const productCarouselElement = document.querySelector('.product-carousel'); // Container mais específico
                if (productCarouselElement) {
                    productCarouselElement.addEventListener('click', (event) => {
                        const button = event.target.closest('.add-to-cart-btn');
                        if (button && !button.disabled) {
                            const card = button.closest('.product-card');
                            if (card && card.dataset.productId) {
                                const productData = {
                                    id: card.dataset.productId,
                                    name: card.dataset.productName || 'Produto Exemplo',
                                    price: card.dataset.productPrice || '50.00' // Garante um valor padrão
                                };
                                addToCart(productData);

                                // Feedback visual no botão (Mantido)
                                const originalText = button.textContent;
                                button.textContent = 'Adicionado!';
                                button.disabled = true;
                                setTimeout(() => {
                                    button.textContent = originalText;
                                    button.disabled = false;
                                }, 1200);
                            }
                        }
                    });
                } else {
                    console.warn("Container do carrossel de produtos '.product-carousel' não encontrado para adicionar listener de 'Comprar'.");
                }
            } else {
                console.error("Alguns elementos da UI do carrinho não foram encontrados! Funcionalidade do carrinho pode estar comprometida.");
                // Opcional: Ocultar o botão da sacola se o carrinho não puder funcionar
                if(cartButton) cartButton.style.display = 'none';
            }
            updateCartView(); // Atualiza a visualização inicial do carrinho (ex: badge '0')
            // --- Fim do Side Cart ---

        }); // Fim do DOMContentLoaded
    </script>

</body>
</html>
